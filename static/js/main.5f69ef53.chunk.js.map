{"version":3,"sources":["store/data-source/actions.js","utils/async-actions.js","store/data-source/reducer.js","store/banking/selection/actions.js","store/conout/actions.js","store/banking/data/actions.js","utils/url.js","components/data-source/DataSource.js","store/version-info/actions.js","store/version-info/reducer.js","components/data-source/DataSourcePanel.js","components/data/banking/Bundle.js","utils/dict.js","components/data/banking/Constraint.js","components/data/banking/RateCondition.js","components/data/banking/RateSubTier.js","components/data/banking/RateTier.js","components/data/Duration.js","utils/enum-comp.js","components/data/banking/DepositRate.js","components/data/banking/LendingRate.js","components/data/banking/Eligibility.js","components/data/banking/Feature.js","components/data/banking/DiscountEligibility.js","components/data/banking/FeeDiscount.js","utils/datetime.js","components/data/banking/Fee.js","components/data/banking/CardArt.js","components/data/DateTime.js","components/data/banking/AdditionalInfo.js","components/data/banking/Product.js","components/data/banking/ProductCategory.js","components/data/banking/BankingProductList.js","store/banking/comparison/actions.js","components/data/banking/BankingPanel.js","store/energy/data/actions.js","components/data/energy/ExternalLink.js","components/data/energy/AdditionalInfo.js","store/energy/selection/actions.js","components/data/energy/Type.js","components/data/energy/FuelType.js","components/data/energy/CustomerType.js","components/data/energy/Geography.js","components/data/energy/Plan.js","components/data/energy/EnergyPlanList.js","store/energy/comparison/actions.js","components/data/energy/EnergyPanel.js","components/data/ConsolePanel.js","components/header/index.js","components/header/CDS-logo.png","components/comparison/BankingComparisonPanel.js","components/comparison/EnergyComparisonPanel.js","store/discovery/actions.js","components/data/discovery/StatusOutages.js","components/data/discovery/DiscoveryInfo.js","components/Page.js","serviceWorker.js","store/index.js","store/conout/reducer.js","store/banking/data/reducer.js","store/energy/data/reducer.js","store/discovery/reducer.js","store/banking/selection/reducer.js","store/energy/selection/reducer.js","store/banking/comparison/reducer.js","store/energy/comparison/reducer.js","index.js"],"names":["LOAD_DATA_SOURCE","ADD_DATA_SOURCE","SYNC_DATA_SOURCES","SAVE_DATA_SOURCE","DELETE_DATA_SOURCE","MODIFY_DATA_SOURCE_NAME","MODIFY_DATA_SOURCE_URL","MODIFY_DATA_SOURCE_ENERGY_PRD_URL","MODIFY_DATA_SOURCE_ICON","ENABLE_DATA_SOURCE","MAJOR_NAMES","MAJORS","Object","keys","mergeDatasources","into","from","result","forEach","ds","name","includes","alias","values","fetchDatasources","dssPromise","fetch","process","then","response","json","ovsPromise","Promise","all","loadLocalDatasources","window","localStorage","getItem","JSON","parse","fulfilled","actionType","persistSavedDataSources","dataSources","setItem","stringify","filter","dataSource","unsaved","deleted","SELECT_BANKING_PRODUCT","DESELECT_BANKING_PRODUCT","CLEAR_BANKING_SELECTION","clearSelection","dataSourceIdx","type","payload","CONSOLE_OUT","CONSOLE_REFRESH","CONSOLE_CLEAN","conoutInfo","txt","obj","createLogEntry","lvl","conoutError","timestamp","Date","START_RETRIEVE_PRODUCT_LIST","RETRIEVE_PRODUCT_LIST","RETRIEVE_PRODUCT_DETAIL","DELETE_DATA","CLEAR_DATA","startRetrieveProductList","idx","headers","createConoutError","error","url","retrieveProductList","baseUrl","productListUrl","xV","xMinV","dispatch","request","Request","Headers","ok","Error","status","statusText","catch","meta","totalRecords","data","products","links","value","actions","map","product","retrieveProductDetail","productId","next","push","retrieveAllProductDetails","getState","fullUrl","productDetails","banking","some","prod","productCategory","action","clearData","localhostDomainRE","nonLocalhostDomainRE","isUrl","s","lowerCase","toLowerCase","test","normalise","endsWith","substr","length","l","document","createElement","href","getLocation","hostname","Accordion","withStyles","root","display","boxShadow","MuiAccordion","AccordionSummary","content","margin","MuiAccordionSummary","AccordionDetails","padding","MuiAccordionDetails","useStyles","makeStyles","theme","buttonContainer","alignItems","snackbar","backgroundColor","palette","dark","message","fieldLabel","width","icon","marginRight","spacing","mapDispatchToProps","saveDataSource","index","deleteDataSource","enableDataSource","modifyDataSourceName","modifyDataSourceUrl","modifyDataSourceEnergyPrdUrl","modifyDataSourceIcon","deleteData","connect","props","classes","React","useState","open","errorMessage","errorState","setErrorState","handleChange","event","target","checked","enabled","isDataSourceValid","trim","ignore","ev","stopPropagation","defaultExpanded","expandIcon","aria-controls","Grid","container","item","xs","FormControlLabel","aria-label","onClick","onFocus","control","Checkbox","onChange","className","TextField","required","placeholder","fullWidth","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContent","IconButton","color","Tooltip","title","preventDefault","fontSize","energyPrd","label","LOAD_VERSION_INFO","SAVE_VERSION_INFO","SET_VERSIONS_EDITABLE","SET_VERSIONS_READ_ONLY","loadVersionField","vf","saveVersionField","DataSourcePanel","this","loadDataSource","loadVersionInfo","addDataSource","syncDataSources","vHeaders","versions","panel","heading","Typography","style","paddingLeft","maxHeight","overflow","details","fontStyle","paddingRight","Divider","AccordionActions","Fab","size","readOnly","version","helperText","inputProps","marginTop","setVersionsEditable","Autocomplete","id","freeSolo","options","renderInput","params","onInputChange","saveVersionInfo","dataSourceIndex","normalisedUrl","setVersionsReadOnly","textAlign","Component","resolve","datasources","i","nameSort","a","b","localDatasources","majorDatasources","minorDatasources","saparateMajors","sort","versionInfo","fade","justifyContent","typography","pxToRem","maxWidth","marginLeft","marginBottom","leftIcon","state","editable","Bundle","bundle","description","additionalInfo","additionalInfoUri","rel","productCategoryDict","RESIDENTIAL_MORTGAGES","CRED_AND_CHRG_CARDS","PERS_LOANS","MARGIN_LOANS","LEASES","TRADE_FINANCE","OVERDRAFTS","BUSINESS_LOANS","TRANS_AND_SAVINGS_ACCOUNTS","TERM_DEPOSITS","TRAVEL_CARDS","REGULATED_TRUST_ACCOUNTS","constraintTypeDict","MIN_BALANCE","MAX_BALANCE","OPENING_BALANCE","MAX_LIMIT","MIN_LIMIT","depositRateTypeDict","FIXED","BONUS","BUNDLE_BONUS","VARIABLE","INTRODUCTORY","FLOATING","MARKET_LINKED","lendingRateTypeDict","DISCOUNT","PENALTY","CASH_ADVANCE","PURCHASE","BUNDLE_DISCOUNT_FIXED","BUNDLE_DISCOUNT_VARIABLE","interestPaymentDueDict","IN_ARREARS","IN_ADVANCE","eligibilityTypeDict","BUSINESS","PENSION_RECIPIENT","MIN_AGE","MAX_AGE","MIN_INCOME","MIN_TURNOVER","STAFF","STUDENT","EMPLOYMENT_STATUS","RESIDENCY_STATUS","NATURAL_PERSON","OTHER","featureTypeDict","CARD_ACCESS","ADDITIONAL_CARDS","UNLIMITED_TXNS","FREE_TXNS","FREE_TXNS_ALLOWANCE","LOYALTY_PROGRAM","OFFSET","OVERDRAFT","REDRAW","INSURANCE","BALANCE_TRANSFERS","INTEREST_FREE","INTEREST_FREE_TRANSFERS","DIGITAL_WALLET","DIGITAL_BANKING","NPP_PAYID","NPP_ENABLED","DONATE_INTEREST","BILL_PAYMENT","COMPLEMENTARY_PRODUCT_DISCOUNTS","BONUS_REWARDS","NOTIFICATIONS","feeTypeDict","PERIODIC","TRANSACTION","WITHDRAWAL","DEPOSIT","PAYMENT","EVENT","UPFRONT","EXIT","discountTypeDict","BALANCE","DEPOSITS","PAYMENTS","FEE_CAP","ELIGIBILITY_ONLY","unitOfMeasureDict","DOLLAR","PERCENT","MONTH","DAY","rateApplicationMethodDict","WHOLE_BALANCE","PER_TIER","repaymentTypeDict","INTEREST_ONLY","PRINCIPAL_AND_INTEREST","discoveryStatusDict","OK","PARTIAL_FAILURE","SCHEDULED_OUTAGE","UNAVAILABLE","productDataKeys","key","translateProductCategory","category","translateConstraintType","constraintType","translateDepositRateType","depositRateType","translateLendingRateType","lendingRateType","translateInterestPaymentDue","interestPaymentDue","translateRepaymentType","repaymentType","translateEligibilityType","eligibilityType","translateFeatureType","featureType","translateFeeType","feeType","translateDiscountType","discountType","translateUnitOfMeasure","unitOfMeasure","translateRateApplicationMethod","rateApplicationMethod","Constraint","constraint","additionalValue","RateCondition","rateCondition","RateSubTier","subTier","minimumValue","maximumValue","applicabilityConditions","sectionTitle","sectionContent","RateTier","tier","Duration","showNum","prefix","pattern","duration","units","unit","num","u","pluralize","ecomp","DepositRate","depositRate","rate","calculationFrequency","applicationFrequency","tiers","toFixed","LendingRate","lendingRate","comparisonRate","loanPurpose","Eligibility","eligibility","Feature","feature","DiscountEligibility","discountEligibilityType","additionalInfoDescription","FeeDiscount","discount","amount","balanceRate","transactionRate","accruedRate","feeRate","discountEligibility","format","rfc3339DateTime","date","toString","indexOf","substring","Fee","str","fee","accrualFrequency","currency","discounts","cardArt","verticalAlign","CardArt","imageUri","src","alt","datetime","textDecoration","DateTime","rfc3339","ul","tableCell","AdditionalInfo","overviewUri","termsUri","eligibilityUri","feesAndPricingUri","bundleUri","lineHeight","borderBottom","expanded","minHeight","paddingTop","selectProduct","deselectProduct","selectedProducts","bankingSelection","selected","prd","blob","Blob","brand","bandName","lastUpdated","URL","createObjectURL","isTailored","effectiveFrom","effectiveTo","applicationUri","additionalInformation","bundles","constraints","depositRates","lendingRates","features","fees","ProductCategory","strcomp","BankingProductList","productList","progress","detailRecords","failedDetailRecords","productsByCategory","processedRecords","productsMap","productDetail","LinearProgress","variant","COMPARE_PRODUCTS","button","isBankingDataSource","sectors","compareProducts","savedDataSourcesCount","setExpanded","getWidth","dataSourceCount","min","Math","max","newExpanded","sm","md","lg","xl","disabled","navigator","userAgent","alert","START_RETRIEVE_PLAN_LIST","RETRIEVE_PLAN_LIST","RETRIEVE_PLAN_DETAIL","retrievePlanDetail","planId","retrieveAllPlanDetails","ExternalLink","link","children","pricingUri","SELECT_ENERGY_PLAN","DESELECT_ENERGY_PLAN","CLEAR_ENERGY_SELECTION","typeDict","STANDING","MARKET","REGULATED","Type","fuelTypeDict","ELECTRICITY","GAS","DUAL","FuelType","fuelType","customerTypeDict","RESIDENTIAL","CustomerType","customerType","Geography","geography","excludedPostcodes","includedPostcodes","distributors","join","distributor","selectPlan","plan","deselectPlan","selectedPlans","energySelection","selection","displayName","brandName","EnergyPlanList","planList","plans","energy","COMPARE_ENERGY_PLANS","isEnergyDataSource","startRetrievePlanList","retrievePlanList","planListUrl","effective","proxyInfo","RegExp","exec","comparePlans","setEffective","setFuelType","useEffect","e","FormLabel","RadioGroup","row","Radio","TreeView","toggled","isLast","isChildElement","isParentToggled","isToggled","setIsToggled","isDataArray","Array","isArray","plainText","_","isEmpty","v","Print","val","framing","refreshConout","cleanConout","conout","msg","moment","header","fontWeight","Header","table","headerContainer","dataContainer","height","headCell","dataCell","render","bankingComparison","Table","TableHead","TableRow","TableCell","productData","TableBody","dataKey","component","scope","align","planSelections","energyComparison","RETRIEVE_STATUS","RETRIEVE_OUTAGES","retrieveStatus","retrieveOutages","StatusOutages","discoveryStatus","statusDetails","outagesDetails","explanation","detectionTime","expectedResolutionTime","updateTime","outages","outage","Outage","outageTime","isPartial","discovery","hidden","Page","setValue","Container","AppBar","position","Tabs","newValue","Tab","BankingComparisonPanel","Boolean","location","match","rootReducer","combineReducers","console","vi","middleWares","thunk","promise","createStore","applyMiddleware","createMuiTheme","primary","blue","useNextVariants","App","store","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5f69ef53.chunk.js","sourcesContent":["export const LOAD_DATA_SOURCE = 'LOAD_DATA_SOURCE'\nexport const ADD_DATA_SOURCE = 'ADD_DATA_SOURCE'\nexport const SYNC_DATA_SOURCES = 'SYNC_DATA_SOURCES'\nexport const SAVE_DATA_SOURCE = 'SAVE_DATA_SOURCE'\nexport const DELETE_DATA_SOURCE = 'DELETE_DATA_SOURCE'\nexport const MODIFY_DATA_SOURCE_NAME = 'MODIFY_DATA_SOURCE_NAME'\nexport const MODIFY_DATA_SOURCE_URL = 'MODIFY_DATA_SOURCE_URL'\nexport const MODIFY_DATA_SOURCE_ENERGY_PRD_URL = 'MODIFY_DATA_SOURCE_ENERGY_PRD_URL'\nexport const MODIFY_DATA_SOURCE_ICON = 'MODIFY_DATA_SOURCE_ICON'\nexport const ENABLE_DATA_SOURCE = 'ENABLE_DATA_SOURCE'\n\nconst MAJOR_NAMES = {'ANZ': [], 'CommBank': ['CBA', 'Commonwealth Bank'], 'NATIONAL AUSTRALIA BANK': ['NAB', 'National'], 'Westpac': []}\nconst MAJORS = Object.keys(MAJOR_NAMES)\n\nfunction mergeDatasources(into, from) {\n  const result = {};\n  into.forEach(ds => result[ds.name] = ds)\n  from.forEach(ds => {\n    const name = ds.name\n    if (MAJORS.includes(name)) {\n      // Consolidate the aliases of the Big Four\n      MAJOR_NAMES[name].forEach(alias => {\n        result[name] = {...result[alias], ...result[name]}\n        delete result[alias]\n      })\n    }\n    result[name] = {...result[name], ...ds}\n  })\n  return Object.values(result)\n}\n\nfunction fetchDatasources() {\n  const dssPromise = fetch(process.env.PUBLIC_URL + '/datasources.json')\n    .then(response => response.json())\n  const ovsPromise = fetch(process.env.PUBLIC_URL + '/override.json')\n    .then(response => response.json())\n  return Promise.all([dssPromise, ovsPromise]).then(([datasources, overrides]) =>\n    mergeDatasources(datasources, overrides)\n  )\n}\n\nfunction loadLocalDatasources() {\n  const ds = window.localStorage.getItem(\"cds-banking-prd-ds\")\n  return ds ? JSON.parse(ds) : false\n}\n\nexport function loadDataSource() {\n  const ds = loadLocalDatasources()\n  return {\n    type: LOAD_DATA_SOURCE,\n    payload: ds ? Promise.resolve(ds) : fetchDatasources()\n      .then(datasources => {\n        for (let i = 0; i < 4 && i < datasources.length; i++) {\n          datasources[i].enabled = true\n        }\n        return datasources\n      })\n  }\n}\n\nexport function addDataSource() {\n  return {\n    type: ADD_DATA_SOURCE\n  }\n}\n\nexport function syncDataSources() {\n  function saparateMajors(localDatasources, majorDatasources, minorDatasources) {\n    localDatasources.forEach(ds => {\n      if (majorDatasources.length < MAJORS.length && MAJORS.includes(ds.name)) {\n        majorDatasources.push(ds)\n      } else {\n        minorDatasources.push(ds)\n      }\n    })\n  }\n\n  const nameSort = (a, b) => a.name < b.name ? -1 : 1\n\n  return {\n    type: SYNC_DATA_SOURCES,\n    payload: fetchDatasources().then(datasources => {\n      const localDatasources = loadLocalDatasources()\n      if (localDatasources) {\n        const merged = mergeDatasources(localDatasources, datasources)\n        const majorDatasources = [], minorDatasources = []\n        saparateMajors(merged, majorDatasources, minorDatasources)\n        return [...majorDatasources.sort(nameSort), ...minorDatasources.sort(nameSort)]\n      }\n      return datasources\n    })\n  }\n}\n\nexport function saveDataSource(index, payload) {\n  return {\n    type: SAVE_DATA_SOURCE,\n    index: index,\n    payload: payload\n  }\n}\n\nexport function deleteDataSource(index) {\n  return {\n    type: DELETE_DATA_SOURCE,\n    index: index\n  }\n}\n\nexport function modifyDataSourceName(index, payload) {\n  return {\n    type: MODIFY_DATA_SOURCE_NAME,\n    index: index,\n    payload: payload\n  }\n}\n\nexport function modifyDataSourceUrl(index, payload) {\n  return {\n    type: MODIFY_DATA_SOURCE_URL,\n    index: index,\n    payload: payload\n  }\n}\n\nexport function modifyDataSourceEnergyPrdUrl(index, payload) {\n  return {\n    type: MODIFY_DATA_SOURCE_ENERGY_PRD_URL,\n    index: index,\n    payload: payload\n  }\n}\n\nexport function modifyDataSourceIcon(index, payload) {\n  return {\n    type: MODIFY_DATA_SOURCE_ICON,\n    index: index,\n    payload: payload\n  }\n}\n\nexport function enableDataSource(index, payload) {\n  return {\n    type: ENABLE_DATA_SOURCE,\n    index: index,\n    payload: payload\n  }\n}\n","export const pending = actionType => `${actionType}_PENDING`\nexport const fulfilled = actionType => `${actionType}_FULFILLED`\nexport const rejected = actionType => `${actionType}_REJECTED`\n","import {\n  ENABLE_DATA_SOURCE,\n  LOAD_DATA_SOURCE,\n  ADD_DATA_SOURCE,\n  SYNC_DATA_SOURCES,\n  SAVE_DATA_SOURCE,\n  DELETE_DATA_SOURCE,\n  MODIFY_DATA_SOURCE_NAME,\n  MODIFY_DATA_SOURCE_ICON,\n  MODIFY_DATA_SOURCE_ENERGY_PRD_URL,\n  MODIFY_DATA_SOURCE_URL\n} from './actions'\nimport {fulfilled} from '../../utils/async-actions'\n\nexport default function dataSources(state=[], action) {\n  switch (action.type) {\n    case fulfilled(LOAD_DATA_SOURCE):\n      return action.payload\n    case ADD_DATA_SOURCE:\n      return [...state, {name: '', url: ''}]\n    case fulfilled(SYNC_DATA_SOURCES):\n      persistSavedDataSources(action.payload)\n      return action.payload\n    case SAVE_DATA_SOURCE:\n      let dataSources = state.map((dataSource, index) => (index === action.index ? {...action.payload, unsaved: false} : dataSource));\n      persistSavedDataSources(dataSources)\n      return dataSources\n    case DELETE_DATA_SOURCE:\n      dataSources = [...state]\n      dataSources[action.index].deleted = true\n      persistSavedDataSources(dataSources)\n      return dataSources\n    case MODIFY_DATA_SOURCE_NAME:\n    case MODIFY_DATA_SOURCE_ICON:\n    case ENABLE_DATA_SOURCE:\n      dataSources = state.map((dataSource, index) => (index === action.index ? {...action.payload} : dataSource));\n      persistSavedDataSources(dataSources)\n      return dataSources\n    case MODIFY_DATA_SOURCE_URL:\n    case MODIFY_DATA_SOURCE_ENERGY_PRD_URL:\n      dataSources = state.map((dataSource, index) => (index === action.index ? {...action.payload, unsaved: true} : dataSource))\n      persistSavedDataSources(dataSources)\n      return dataSources\n    default:\n      return state\n  }\n}\n\nfunction persistSavedDataSources(dataSources) {\n  window.localStorage.setItem(\"cds-banking-prd-ds\",\n    JSON.stringify(dataSources.filter(dataSource => !dataSource.unsaved && !dataSource.deleted)))\n}\n","export const SELECT_BANKING_PRODUCT = 'SELECT_BANKING_PRODUCT'\nexport const DESELECT_BANKING_PRODUCT = 'DESELECT_BANKING_PRODUCT'\nexport const CLEAR_BANKING_SELECTION = 'CLEAR_BANKING_SELECTION'\n\nexport const selectProduct = (dataSourceIdx, product) => ({\n    type: SELECT_BANKING_PRODUCT,\n    payload: { dataSourceIdx, product }\n})\n\nexport const deselectProduct = (dataSourceIdx, product) => ({\n    type: DESELECT_BANKING_PRODUCT,\n    payload: { dataSourceIdx, product }\n})\n\nexport const clearSelection = (dataSourceIdx) => ({\n    type: CLEAR_BANKING_SELECTION,\n    payload: dataSourceIdx\n})\n","export const CONSOLE_OUT = 'CONSOLE_OUT'\nexport const CONSOLE_REFRESH = 'CONSOLE_REFRESH'\nexport const CONSOLE_CLEAN = 'CONSOLE_CLEAN'\n\nexport const conoutInfo = (txt, obj) => {\n  return createLogEntry({lvl: 'log', txt, obj})\n}\n\nexport const conoutTrace = (txt, obj) => {\n  return createLogEntry({lvl: 'trace', txt, obj})\n}\n\nexport const conoutWarn = (txt, obj) => {\n  return createLogEntry({lvl: 'warn', txt, obj})\n}\n\nexport const conoutError = (txt, obj) => {\n  return createLogEntry({lvl: 'error', txt, obj})\n}\n\nfunction createLogEntry(payload) {\n  return {\n    type: CONSOLE_OUT,\n    payload,\n    timestamp: new Date()\n  }\n}\n\nexport const refreshConout = () => ({\n  type: CONSOLE_REFRESH\n})\n\nexport const cleanConout = () => ({\n  type: CONSOLE_CLEAN\n})\n","import {conoutInfo, conoutError, conoutWarn} from '../../conout/actions'\n\nexport const START_RETRIEVE_PRODUCT_LIST = 'START_RETRIEVE_PRODUCT_LIST'\nexport const RETRIEVE_PRODUCT_LIST = 'RETRIEVE_PRODUCT_LIST'\nexport const RETRIEVE_PRODUCT_DETAIL = 'RETRIEVE_PRODUCT_DETAIL'\nexport const RETRIEVE_ALL_PRODUCT_DETAILS = 'RETRIEVE_ALL_PRODUCT_DETAILS'\nexport const DELETE_DATA = 'DELETE_DATA'\nexport const CLEAR_DATA = 'CLEAR_DATA'\n\nexport const startRetrieveProductList = (dataSourceIdx) => ({\n  type: START_RETRIEVE_PRODUCT_LIST,\n  payload: {idx: dataSourceIdx}\n})\n\nconst headers = {\n  'Accept': 'application/json'\n}\n\nfunction createConoutError(error, url) {\n  return conoutError('Caught ' + error + ' while requesting ' + url + (error.name === 'TypeError' ?\n    ' Possibly caused by the endpoint not supporting Cross-Origin Requests (CORS)' : ''))\n}\n\nexport const retrieveProductList = (dataSourceIdx, baseUrl, productListUrl, xV, xMinV) =>\n  (dispatch) => {\n    const request = new Request(productListUrl, {headers: new Headers({...headers, 'x-v': xV, 'x-min-v': xMinV})})\n    dispatch(conoutInfo(`Requesting retrieveProductList() for ${productListUrl}`))\n    const response = dispatch({\n      type: RETRIEVE_PRODUCT_LIST,\n      payload: fetch(request)\n        .then(response => {\n          if (response.ok) {\n            return response.json()\n          }\n          throw new Error(`Response not OK. Status: ${response.status} (${response.statusText})`)\n        })\n        .then(obj => {\n          dispatch(conoutInfo(`Received retrieveProductList() response for ${productListUrl}:`, obj))\n          return obj\n        })\n        .catch(error => {\n          dispatch(createConoutError(error, productListUrl))\n          return {\n            meta: {totalRecords: 0},\n            data: {products: []},\n            links: {}\n          }\n        })\n        .then(json => ({idx: dataSourceIdx, response: json}))\n    })\n    response.then(({value})=> {\n      const {products} = value.response.data\n      const actions = products.map(product => retrieveProductDetail(dataSourceIdx, baseUrl, product.productId, xV, xMinV))\n      const {next} = value.response.links\n      if (!!next) {\n        if (next === productListUrl) {\n          dispatch(conoutError(`The link next should not be the same as the current page URL (${productListUrl}):`, value.response.links))\n        } else {\n          actions.push(retrieveProductList(dataSourceIdx, baseUrl, next, xV, xMinV))\n        }\n      }\n      dispatch(retrieveAllProductDetails(actions))\n    })\n  }\n\nexport const retrieveProductDetail = (dataSourceIdx, url, productId, xV, xMinV) => (dispatch, getState) => {\n  const fullUrl = url + '/banking/products/' + productId\n  const request = new Request(fullUrl, {\n    headers: new Headers({...headers, 'x-v': xV, 'x-min-v': xMinV})\n  })\n  dispatch(conoutInfo('Requesting retrieveProductDetail() for product ' + productId))\n  dispatch({\n    type: RETRIEVE_PRODUCT_DETAIL,\n    payload: fetch(request)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n        throw new Error(`Response not OK. Status: ${response.status} (${response.statusText})`)\n      })\n      .then(obj => {\n        dispatch(conoutInfo(`Received response for ${fullUrl}:`, obj))\n        return obj\n      })\n      .then(json => {\n        const { productDetails } = getState().banking[dataSourceIdx]\n        const { data } = json\n        if (productDetails.some(prod => prod.productId === data.productId\n            && prod.productCategory === data.productCategory)) {\n          dispatch(conoutWarn(`Product with id ${data.productId} already exists in ${data.productCategory}`))\n          return {idx: dataSourceIdx, response: null}\n        }\n        return {idx: dataSourceIdx, response: json}\n      })\n      .catch(error => {\n        dispatch(createConoutError(error, fullUrl))\n        return {idx: dataSourceIdx, response: null}\n      })\n  })\n}\n\nexport const retrieveAllProductDetails = (actions) => dispatch => dispatch({\n  type: RETRIEVE_ALL_PRODUCT_DETAILS,\n  payload: Promise.all(actions.map(action => dispatch(action)))\n})\n\nexport const deleteData = (dataSourceIdx) => ({\n  type: DELETE_DATA,\n  payload: dataSourceIdx\n})\n\nexport const clearData = (dataSourceIdx) => ({\n  type: CLEAR_DATA,\n  payload: dataSourceIdx\n})\n","const localhostDomainRE = /^https?:\\/\\/localhost[:?\\d]*(?:[^:?\\d]\\S*)?$/\nconst nonLocalhostDomainRE = /^https?:\\/\\/[^\\s.]+\\.\\S{2,}$/\n\nexport default function isUrl(s) {\n  if (typeof s !== 'string') {\n    return false;\n  }\n\n  const lowerCase = s.toLowerCase()\n\n  return localhostDomainRE.test(lowerCase) ||\n    nonLocalhostDomainRE.test(lowerCase);\n}\n\nfunction getLocation(url) {\n  var l = document.createElement(\"a\")\n  l.href = url\n  return l\n}\n\nexport function normalise(url) {\n  if (url.endsWith('/')) url = url.substr(0, url.length - 1)\n  if (!url.endsWith('/cds-au/v1') && getLocation(url).hostname !== 'localhost') {\n    url += '/cds-au/v1'\n  }\n  return url\n}\n","import React from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\nimport IconButton from '@material-ui/core/IconButton'\nimport DoneOutlineIcon from '@material-ui/icons/DoneOutline'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport {\n  saveDataSource,\n  deleteDataSource,\n  enableDataSource,\n  modifyDataSourceName,\n  modifyDataSourceIcon,\n  modifyDataSourceEnergyPrdUrl,\n  modifyDataSourceUrl\n} from '../../store/data-source'\nimport { clearSelection} from '../../store/banking/selection'\nimport { deleteData, clearData } from '../../store/banking/data'\nimport {connect} from 'react-redux'\nimport isUrl from '../../utils/url'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport CloseIcon from '@material-ui/icons/Close'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport {SnackbarContent} from '@material-ui/core'\nimport MuiAccordion from '@material-ui/core/Accordion'\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nconst Accordion = withStyles({\n  root: {\n    '&:before': {\n      display: 'none'\n    },\n    boxShadow: 'none',\n    '&.Mui-expanded': {\n      boxShadow: '0 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)'\n    }\n  }\n})(MuiAccordion)\n\nconst AccordionSummary = withStyles({\n  content: {\n    margin: 0\n  }\n})(MuiAccordionSummary)\n\nconst AccordionDetails = withStyles({\n  root: {\n    padding: 0\n  }\n})(MuiAccordionDetails)\n\nconst useStyles = makeStyles((theme) => ({\n  buttonContainer: {\n    display: 'flex',\n    alignItems: 'flex-end'\n  },\n  snackbar: {\n    backgroundColor: theme.palette.error.dark\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  fieldLabel: {\n    width: '95%'\n  },\n  icon: {\n    marginRight: theme.spacing(2)\n  }\n}))\n\nconst DataSource = (props) => {\n\n  const classes = useStyles()\n\n  const { dataSource, index } = props\n\n  const [errorState, setErrorState] = React.useState({open: false, errorMessage: ''})\n\n  const handleChange = name => event => {\n    if (name === 'name') {\n      props.modifyDataSourceName(index, {...dataSource, [name]: event.target.value})\n    } else if (name === 'url') {\n      props.modifyDataSourceUrl(index, {...dataSource, [name]: event.target.value})\n      if (!dataSource.unsaved) {\n        props.clearSelection(index)\n        props.clearData(index)\n      }\n    } else if (name === 'energyPrd') {\n      props.modifyDataSourceEnergyPrdUrl(index, {...dataSource, [name]: event.target.value})\n      if (!dataSource.unsaved) {\n        props.clearSelection(index)\n        props.clearData(index)\n      }\n    } else if (name === 'icon') {\n      props.modifyDataSourceIcon(index, {...dataSource, [name]: event.target.value})\n    } else if (name === 'enabled') {\n      props.enableDataSource(index, {...dataSource, [name]: event.target.checked})\n      if (dataSource.enabled) {\n        props.clearSelection(index)\n        props.clearData(index)\n      }\n    }\n  }\n\n  const save = ev => {\n    if (!isDataSourceValid()) {\n      let message = ''\n      if (dataSource.name.trim().length === 0) {\n        message = 'Bank name is required. '\n      }\n      if (!isUrl(dataSource.url)) {\n        message += 'URL is invalid.'\n      }\n      setErrorState({\n        open: true,\n        errorMessage: message\n      })\n    } else {\n      props.saveDataSource(index, {...dataSource})\n    }\n    ev.stopPropagation()\n    ev.preventDefault()\n  }\n\n  const closeErrorMessage = () => {\n    setErrorState({...errorState, open: false})\n  }\n\n  const del = () => {\n    props.deleteDataSource(index)\n    props.deleteData(index)\n    props.clearSelection(index)\n  }\n\n  const isDataSourceValid = () => {\n    return dataSource.name.trim().length > 0 && isUrl(dataSource.url)\n  }\n\n  const ignore = ev => ev.stopPropagation()\n\n  return (\n    <Accordion defaultExpanded={false}>\n    <AccordionSummary\n      expandIcon={<ExpandMoreIcon/>}\n      aria-controls='panel1c-content'\n    >\n    <Grid container spacing={1}>\n      <Grid item xs={1}>\n      <FormControlLabel\n        aria-label=\"Datasource Enabled\"\n        onClick={ignore}\n        onFocus={ignore}\n        control={<Checkbox\n          checked={dataSource.enabled}\n          onChange={handleChange('enabled')}\n        />}\n      />\n      </Grid>\n      <Grid item xs={3}>\n        <FormControlLabel className={classes.fieldLabel}\n          aria-label=\"Datasource Name\"\n          onClick={ignore}\n          onFocus={ignore}\n          control={<TextField\n            error={!dataSource.name.trim().length}\n            required={true}\n            onChange={handleChange('name')}\n            margin='normal'\n            placeholder='e.g. Acme Bank'\n            value={dataSource.name}\n            fullWidth\n          />}\n        />\n      </Grid>\n      <Grid item xs={4}>\n        <FormControlLabel className={classes.fieldLabel}\n          aria-label=\"Datasource URL\"\n          onClick={ignore}\n          onFocus={ignore}\n          control={<TextField\n            error={!isUrl(dataSource.url)}\n            required={true}\n            onChange={handleChange('url')}\n            placeholder='e.g. https://data.holder'\n            value={dataSource.url}\n            margin='normal'\n            fullWidth\n          />}\n        />\n        <FormControlLabel\n          aria-label=\"Error message\"\n          onClick={ignore}\n          onFocus={ignore}\n          control={<Snackbar\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'center',\n            }}\n            open={errorState.open}\n            autoHideDuration={3000}\n          >\n            <SnackbarContent\n              className={classes.snackbar}\n              message={<span className={classes.message}><ErrorIcon className={classes.icon}/> {errorState.errorMessage}</span>}\n              action={[\n                <IconButton key='close' aria-label='Close' color='inherit' onClick={closeErrorMessage}>\n                  <CloseIcon className={classes.icon} />\n                </IconButton>\n              ]}\n            />\n          </Snackbar>}\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <FormControlLabel className={classes.fieldLabel}\n          aria-label=\"Datasource Logo\"\n          onClick={ignore}\n          onFocus={ignore}\n          control={<TextField\n            error={!!dataSource.icon && !isUrl(dataSource.icon)}\n            onChange={handleChange('icon')}\n            placeholder='e.g. https://data.holder/images/bank.png'\n            value={dataSource.icon}\n            margin='normal'\n            fullWidth\n          />}\n        />\n      </Grid>\n      <Grid item xs={1} className={classes.buttonContainer}>\n        { dataSource.unsaved ?\n        <FormControlLabel\n          aria-label=\"Save\"\n          onClick={ignore}\n          onFocus={ignore}\n          control={<Tooltip title='Save'>\n            <IconButton aria-label='Save' className={classes.margin} onClick={save}>\n              <DoneOutlineIcon fontSize='large' color={isDataSourceValid() ? 'primary' : 'action'}/>\n            </IconButton>\n          </Tooltip>}\n        /> :\n        <FormControlLabel\n          aria-label=\"Delete\"\n          onClick={ignore}\n          onFocus={ignore}\n          control={<Tooltip title='Delete'>\n            <IconButton aria-label='Delete' className={classes.margin} onClick={del}>\n              <DeleteIcon fontSize='large' color='secondary'/>\n            </IconButton>\n          </Tooltip>}\n        />\n        }\n      </Grid>\n    </Grid>\n    </AccordionSummary>\n    <AccordionDetails>\n      <Grid item xs={1}>\n      </Grid>\n      <Grid item xs={4}>\n      <TextField\n        error={!isUrl(dataSource.energyPrd)}\n        required={false}\n        onChange={handleChange('energyPrd')}\n        placeholder='e.g. https://data.holder'\n        value={dataSource.energyPrd || ''}\n        margin='normal'\n        fullWidth\n        label='AER PRD URL (if needed)'\n      />\n      </Grid>\n    </AccordionDetails>\n    </Accordion>\n  )\n}\n\nconst mapDispatchToProps = {\n  saveDataSource,\n  deleteDataSource,\n  enableDataSource,\n  modifyDataSourceName,\n  modifyDataSourceUrl,\n  modifyDataSourceEnergyPrdUrl,\n  modifyDataSourceIcon,\n  clearSelection,\n  deleteData,\n  clearData\n}\n\nexport default connect(null, mapDispatchToProps)(DataSource)\n","export const LOAD_VERSION_INFO = 'LOAD_VERSION_INFO'\nexport const SAVE_VERSION_INFO = 'SAVE_VERSION_INFO'\nexport const SET_VERSIONS_EDITABLE = 'SET_VERSIONS_EDITABLE'\nexport const SET_VERSIONS_READ_ONLY = 'SET_VERSIONS_READ_ONLY'\n\nexport function loadVersionInfo() {\n  return {\n    type: LOAD_VERSION_INFO\n  }\n}\n\nexport function saveVersionInfo(versionInfo) {\n  return {\n    type: SAVE_VERSION_INFO,\n    versionInfo: versionInfo\n  }\n}\n\nexport function setVersionsEditable() {\n  return {\n    type: SET_VERSIONS_EDITABLE\n  }\n}\n\nexport function setVersionsReadOnly() {\n  return {\n    type: SET_VERSIONS_READ_ONLY\n  }\n}\n","import {\n  LOAD_VERSION_INFO,\n  SAVE_VERSION_INFO,\n  SET_VERSIONS_EDITABLE,\n  SET_VERSIONS_READ_ONLY\n} from './actions'\n\nexport default function versionInfo(state={vHeaders: {xV: '3', xMinV: '1'}}, action) {\n  const vHeaders = {\n    xV: loadVersionField(\"x-v\") || state.vHeaders.xV,\n    xMinV: loadVersionField(\"x-min-v\") || state.vHeaders.xMinV\n  }\n  switch (action.type) {\n    case LOAD_VERSION_INFO:\n      return {vHeaders}\n    case SAVE_VERSION_INFO:\n      const vi = action.versionInfo\n      saveVersionField(\"x-v\", vi.xV)\n      saveVersionField(\"x-min-v\", vi.xMinV)\n      return {vHeaders: vi}\n    case SET_VERSIONS_EDITABLE:\n      return {editable: true, vHeaders}\n    case SET_VERSIONS_READ_ONLY:\n      return {vHeaders}\n    default:\n      return state\n  }\n}\n\nfunction loadVersionField(vf) {\n  return window.localStorage.getItem(vf)\n}\n\nfunction saveVersionField(vf, value) {\n  window.localStorage.setItem(vf, value)\n}\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {withStyles} from '@material-ui/core/styles'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionActions from '@material-ui/core/AccordionActions'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SyncIcon from '@material-ui/icons/Sync'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DoneOutlineIcon from '@material-ui/icons/DoneOutline'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport PlayListAddIcon from '@material-ui/icons/PlaylistAdd'\nimport Grid from '@material-ui/core/Grid'\nimport DataSource from './DataSource'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport { loadDataSource, addDataSource, syncDataSources } from '../../store/data-source'\nimport { loadVersionInfo, saveVersionInfo, setVersionsEditable, setVersionsReadOnly } from '../../store/version-info'\nimport { startRetrieveProductList, retrieveProductList, clearData } from '../../store/banking/data'\nimport { clearSelection} from '../../store/banking/selection'\nimport { normalise } from '../../utils/url'\nimport Fab from '@material-ui/core/Fab'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst styles = theme => ({\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  details: {\n    maxWidth: '80%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: 20\n  },\n  version: {\n    textAlign: 'center',\n    '& .MuiTextField-root': {\n      margin: theme.spacing(2),\n      width: '20ch'\n    },\n  },\n  leftIcon: {\n    marginRight: theme.spacing(1),\n  }\n})\n\nclass DataSourcePanel extends React.Component {\n\n  componentDidMount() {\n    this.props.loadDataSource()\n    this.props.loadVersionInfo()\n  }\n\n  render() {\n    const {classes, dataSources, addDataSource, syncDataSources, vHeaders} = this.props\n    const versions = ['1', '2', '3']\n    let {xV, xMinV} = vHeaders\n\n    const updateVersions = () => {\n      if (xV && xMinV && (xV !== vHeaders.xV || xMinV !== vHeaders.xMinV)) {\n        this.props.saveVersionInfo({xV, xMinV})\n        dataSources.forEach((dataSource, dataSourceIndex) => {\n          if (!dataSource.unsaved && !dataSource.deleted && dataSource.enabled) {\n            this.props.clearSelection(dataSourceIndex)\n            this.props.clearData(dataSourceIndex)\n            this.props.startRetrieveProductList(dataSourceIndex)\n            const normalisedUrl = normalise(dataSource.url)\n            this.props.retrieveProductList(dataSourceIndex, normalisedUrl, normalisedUrl + '/banking/products', xV, xMinV)\n          }\n        })\n      } else {\n        this.props.setVersionsReadOnly()\n      }\n    }\n\n    return (\n      <Accordion defaultExpanded={false} className={classes.panel}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon/>}\n          aria-controls='panel1c-content'\n        >\n          <div className={classes.heading}>\n            <AccountBalanceIcon/><Typography style={{paddingLeft: 8}}>Data sources</Typography>\n          </div>\n        </AccordionSummary>\n        <div style={{maxHeight: 300, overflow: 'auto'}}>\n          { dataSources.length > 0 &&\n          <div className={classes.details}>\n            <Grid container spacing={1} style={{fontSize: 'smaller', fontStyle: 'italic', paddingRight: 60}}>\n              <Grid item xs={1}><span>Enabled</span></Grid>\n              <Grid item xs={3}><span>Name</span></Grid>\n              <Grid item xs={4}><span>API base url</span></Grid>\n              <Grid item xs={3}><span>Icon url</span></Grid>\n            </Grid>\n            {dataSources.map((dataSource, index) =>\n              !dataSource.deleted && <DataSource key={index} dataSource={dataSource} index={index}/>)}\n          </div>\n          }\n        </div>\n        <Divider/>\n        <AccordionActions>\n          <Grid container alignItems=\"center\">\n            <Grid item xs={1}>\n              <Tooltip title='Synchronise'>\n                <Fab size='medium' color='secondary' onClick={syncDataSources}>\n                  <SyncIcon/>\n                </Fab>\n              </Tooltip>\n            </Grid>\n            <Grid item xs={10}>\n              {this.props.readOnly ?\n              <div className={classes.version}>\n                <TextField value={xV} label=\"x-v\" helperText=\"Preferred version\"  inputProps={{readOnly: true}} />\n                <TextField value={xMinV} label=\"x-min-v\" helperText=\"Minimal acceptable version\"  inputProps={{readOnly: true}} />\n                <IconButton color=\"primary\" style={{marginTop: 20}} onClick={this.props.setVersionsEditable}>\n                  <Tooltip title=\"Change x-v, x-min-v\">\n                    <EditIcon />\n                  </Tooltip>\n                </IconButton>\n              </div>\n              :\n              <div className={classes.version}>\n                <Autocomplete\n                  id=\"xV\"\n                  freeSolo\n                  options={versions}\n                  value={xV}\n                  renderInput={params => (\n                    <TextField {...params} label=\"x-v\" helperText=\"Preferred version\"/>\n                  )}\n                  onInputChange={(ev, value) => xV = value}\n                  style={{display: 'inline'}}\n                />\n                <Autocomplete\n                  id=\"xMinV\"\n                  freeSolo\n                  options={versions}\n                  value={xMinV}\n                  renderInput={params => (\n                    <TextField {...params} label=\"x-min-v\" helperText=\"Minimal acceptable version\"/>\n                  )}\n                  onInputChange={(ev, value) => xMinV = value}\n                  style={{display: 'inline'}}\n                />\n                <IconButton color=\"primary\" style={{marginTop: 20}} onClick={updateVersions}>\n                  <Tooltip title=\"Apply x-v, x-min-v\">\n                    <DoneOutlineIcon />\n                  </Tooltip>\n                </IconButton>\n              </div>\n              }\n            </Grid>\n            <Grid item xs={1} style={{textAlign: 'end'}}>\n              <Tooltip title='Add'>\n                <Fab size='medium' color='primary' onClick={addDataSource}>\n                  <PlayListAddIcon/>\n                </Fab>\n              </Tooltip>\n            </Grid>\n          </Grid>\n        </AccordionActions>\n      </Accordion>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  dataSources: state.dataSources,\n  vHeaders: state.versionInfo.vHeaders,\n  readOnly: !state.versionInfo.editable\n})\n\nconst mapDispatchToProps = {\n  loadDataSource,\n  addDataSource,\n  syncDataSources,\n  loadVersionInfo,\n  saveVersionInfo,\n  setVersionsEditable,\n  setVersionsReadOnly,\n  startRetrieveProductList,\n  retrieveProductList,\n  clearSelection,\n  clearData\n}\n\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(DataSourcePanel))\n","import React from 'react'\n\nconst Bundle = (props) => {\n  const {bundle} = props\n  return (\n    <li>\n      <div>{bundle.name}</div>\n      <div>{bundle.description}</div>\n      {!!bundle.additionalInfo && <div>{bundle.additionalInfo}</div>}\n      {!!bundle.additionalInfoUri && <div><a href={bundle.additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default Bundle\n","export const productCategoryDict = {\n  RESIDENTIAL_MORTGAGES: 'Residential Mortgages',\n  CRED_AND_CHRG_CARDS: 'Credit and Charge Cards',\n  PERS_LOANS: 'Personal Loans',\n  MARGIN_LOANS: 'Margin Loans',\n  LEASES: 'Leases',\n  TRADE_FINANCE: 'Trade Finance',\n  OVERDRAFTS: 'Overdrafts',\n  BUSINESS_LOANS: 'Business Loans',\n  TRANS_AND_SAVINGS_ACCOUNTS: 'Transaction and Savings Accounts',\n  TERM_DEPOSITS: 'Term Deposits',\n  TRAVEL_CARDS: 'Travel Cards',\n  REGULATED_TRUST_ACCOUNTS: 'Regulated Trust Accounts'\n}\n\nexport const constraintTypeDict = {\n  MIN_BALANCE: 'Minimum Balance',\n  MAX_BALANCE: 'Maximum Balance',\n  OPENING_BALANCE: 'Opening Balance',\n  MAX_LIMIT: 'Maximum Credit Limit',\n  MIN_LIMIT: 'Minimum Credit Limit'\n}\n\nexport const depositRateTypeDict = {\n  FIXED: 'Fixed',\n  BONUS: 'Bonus',\n  BUNDLE_BONUS: 'Bundle Bonus',\n  VARIABLE: 'Variable',\n  INTRODUCTORY: 'Introductory',\n  FLOATING: 'Floating',\n  MARKET_LINKED: 'Market Linked'\n}\n\nexport const lendingRateTypeDict = {\n  FIXED: 'Fixed',\n  VARIABLE: 'Variable',\n  INTRODUCTORY: 'Introductory',\n  FLOATING: 'Floating',\n  MARKET_LINKED: 'Market Linked',\n  DISCOUNT: 'Discount',\n  PENALTY: 'Penalty',\n  CASH_ADVANCE: 'Cash Advance',\n  PURCHASE: 'Purchase',\n  BUNDLE_DISCOUNT_FIXED: 'Bundle Discount Fixed',\n  BUNDLE_DISCOUNT_VARIABLE: 'Bundle Discount Variable'\n}\n\nexport const interestPaymentDueDict = {\n  IN_ARREARS: 'in Arrears',\n  IN_ADVANCE: 'in Advance'\n}\n\nexport const eligibilityTypeDict = {\n  BUSINESS: 'Business',\n  PENSION_RECIPIENT: 'Pension Recipient',\n  MIN_AGE: 'Minimum Age',\n  MAX_AGE: 'Maximum Age',\n  MIN_INCOME: 'Minimum Income',\n  MIN_TURNOVER: 'Minimum Turnover',\n  STAFF: 'Staff',\n  STUDENT: 'Student',\n  EMPLOYMENT_STATUS: 'Employment Status',\n  RESIDENCY_STATUS: 'Residency Status',\n  NATURAL_PERSON: 'Natural Person',\n  OTHER: 'Other'\n}\n\nexport const featureTypeDict = {\n  CARD_ACCESS: 'Card Access',\n  ADDITIONAL_CARDS: 'Additional Cards',\n  UNLIMITED_TXNS: 'Unlimited Transactions',\n  FREE_TXNS: 'Free Transactions',\n  FREE_TXNS_ALLOWANCE: 'Free Transaction Allowance',\n  LOYALTY_PROGRAM: 'Loyalty Program',\n  OFFSET: 'Offset',\n  OVERDRAFT: 'Overdraft',\n  REDRAW: 'Redraw',\n  INSURANCE: 'Insurance',\n  BALANCE_TRANSFERS: 'Balance Transfer',\n  INTEREST_FREE: 'Interest Free',\n  INTEREST_FREE_TRANSFERS: 'Interest Free Transfers',\n  DIGITAL_WALLET: 'Digital Wallet',\n  DIGITAL_BANKING: 'Digital Banking',\n  NPP_PAYID: 'NPP PayID',\n  NPP_ENABLED: 'NPP Enabled',\n  DONATE_INTEREST: 'Donate Interest',\n  BILL_PAYMENT: 'Bill Payment',\n  COMPLEMENTARY_PRODUCT_DISCOUNTS: 'Complementary Product Discounts',\n  BONUS_REWARDS: 'Bonus Rewards',\n  NOTIFICATIONS: 'Notifications',\n  OTHER: 'Other'\n}\n\nexport const feeTypeDict = {\n  PERIODIC: 'Periodic',\n  TRANSACTION: 'Transaction',\n  WITHDRAWAL: 'Withdrawal',\n  DEPOSIT: 'Deposit',\n  PAYMENT: 'Payment',\n  PURCHASE: 'Purchase',\n  EVENT: 'Event',\n  UPFRONT: 'Upfront',\n  VARIABLE: 'Variable',\n  EXIT: 'Exit'\n}\n\nexport const discountTypeDict = {\n  BALANCE: 'Balance',\n  DEPOSITS: 'Deposits',\n  PAYMENTS: 'Payments',\n  FEE_CAP: 'Fee Cap',\n  ELIGIBILITY_ONLY: 'Eligibility Only'\n}\n\nexport const unitOfMeasureDict = {\n  DOLLAR: 'Dollars',\n  PERCENT: 'Percent',\n  MONTH: 'Month(s)',\n  DAY: 'Day(s)'\n}\n\nexport const rateApplicationMethodDict = {\n  WHOLE_BALANCE: 'Whole Balance',\n  PER_TIER: 'Per Tier'\n}\n\nexport const repaymentTypeDict = {\n  INTEREST_ONLY: 'Interest Only',\n  PRINCIPAL_AND_INTEREST: 'Principal and Interest'\n}\n\nexport const discoveryStatusDict = {\n  OK: 'OK',\n  PARTIAL_FAILURE: 'Partial failure',\n  SCHEDULED_OUTAGE: 'Scheduled outage',\n  UNAVAILABLE: 'Unavailable'\n}\n\nexport const productDataKeys = [\n  {key: 'description', label: 'Description'},\n  {key: 'brand', label: 'Brand'},\n  {key: 'brandName', label: 'Brand Name'},\n  {key: 'lastUpdated', label: 'Last Updated'},\n  {key: 'isTailored', label: 'Tailored?'},\n  {key: 'effectiveFrom', label: 'Effective From'},\n  {key: 'effectiveTo', label: 'Effective To'},\n  {key: 'applicationUri', label: 'Application Link'},\n  {key: 'additionalInformation', label: 'Additional Information'},\n  {key: 'bundles', label: 'Bundles'},\n  {key: 'constraints', label: 'Constraints'},\n  {key: 'depositRates', label: 'Deposit Rates'},\n  {key: 'lendingRates', label: 'Lending Rates'},\n  {key: 'eligibility', label: 'Eligibility'},\n  {key: 'features', label: 'Features'},\n  {key: 'fees', label: 'Fees'}\n]\n\nexport const translateProductCategory = (category) => productCategoryDict[category]\n\nexport const translateConstraintType = (constraintType) => constraintTypeDict[constraintType]\n\nexport const translateDepositRateType = (depositRateType) => depositRateTypeDict[depositRateType]\n\nexport const translateLendingRateType = (lendingRateType) => lendingRateTypeDict[lendingRateType]\n\nexport const translateInterestPaymentDue = (interestPaymentDue) => interestPaymentDueDict[interestPaymentDue]\n\nexport const translateRepaymentType = (repaymentType) => repaymentTypeDict[repaymentType]\n\nexport const translateEligibilityType = (eligibilityType) => eligibilityTypeDict[eligibilityType]\n\nexport const translateFeatureType = (featureType) => featureTypeDict[featureType]\n\nexport const translateFeeType = (feeType) => feeTypeDict[feeType]\n\nexport const translateDiscountType = (discountType) => discountTypeDict[discountType]\n\nexport const translateUnitOfMeasure = (unitOfMeasure) => unitOfMeasureDict[unitOfMeasure]\n\nexport const translateRateApplicationMethod = (rateApplicationMethod) => rateApplicationMethodDict[rateApplicationMethod]\n\nexport const translateDiscoveryStatus = (discoveryStatus) => discoveryStatusDict[discoveryStatus]\n","import React from 'react'\nimport {translateConstraintType} from '../../../utils/dict'\n\nconst Constraint = (props) => {\n  const {constraintType, additionalInfo, additionalValue, additionalInfoUri} = props.constraint\n  return (\n    <li>\n      <div>{translateConstraintType(constraintType)} - ${additionalValue}</div>\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default Constraint\n","import React from 'react'\n\nconst RateCondition = (props) => {\n  const {additionalInfo, additionalInfoUri} = props.rateCondition\n  return (\n    <div>\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </div>\n  )\n}\n\nexport default RateCondition\n","import React from 'react'\nimport RateCondition from './RateCondition'\nimport {translateRateApplicationMethod, translateUnitOfMeasure} from '../../../utils/dict'\n\nconst RateSubTier = (props) => {\n  const {name, unitOfMeasure, minimumValue, maximumValue, rateApplicationMethod, applicabilityConditions} = props.subTier\n  return (\n    <div>\n      <div>{name}</div>\n      <div>Minimum {minimumValue} {translateUnitOfMeasure(unitOfMeasure)}</div>\n      {!!maximumValue && <div>Maximum {maximumValue} {translateUnitOfMeasure(unitOfMeasure)}</div>}\n      {!!rateApplicationMethod && <div>Applied on {translateRateApplicationMethod(rateApplicationMethod)}</div>}\n      {!!applicabilityConditions && <RateCondition rateCondition={applicabilityConditions}/>}\n    </div>\n  )\n}\n\nexport default RateSubTier\n","import React from 'react'\nimport RateCondition from './RateCondition'\nimport RateSubTier from './RateSubTier'\nimport {translateRateApplicationMethod, translateUnitOfMeasure} from '../../../utils/dict'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    paddingLeft: 20\n  }\n}))\n\nconst RateTier = (props) => {\n  const classes = useStyles()\n  const {name, unitOfMeasure, minimumValue, maximumValue, rateApplicationMethod, applicabilityConditions, subTier,\n    additionalInfo, additionalInfoUri} = props.tier\n  return (\n    <li>\n      <div>{name}</div>\n      <div>Minimum {minimumValue} {translateUnitOfMeasure(unitOfMeasure)}</div>\n      {!!maximumValue && <div>Maximum {maximumValue} {translateUnitOfMeasure(unitOfMeasure)}</div>}\n      {!!rateApplicationMethod && <div>Applied on {translateRateApplicationMethod(rateApplicationMethod)}</div>}\n      {!!applicabilityConditions && <RateCondition rateCondition={applicabilityConditions}/>}\n      {\n        !!subTier &&\n        <div>\n          <div className={classes.sectionTitle}>Sub Tier: </div>\n          <div className={classes.sectionContent}>\n            <RateSubTier subTier={subTier}/>\n          </div>\n        </div>\n      }\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default RateTier\n","import React from 'react'\nimport { pattern, parse } from 'iso8601-duration'\nimport pluralize from 'pluralize'\n\nconst Duration = props => {\n  const { prefix, value } = props\n  let showNum\n  if (!value || value.length === 0) {\n    return false\n  }\n  if (!pattern.test(value)) {\n    return <span>{value}</span>\n  }\n  const duration = parse(value)\n  const units = ['year', 'month', 'day', 'hour', 'minute', 'second']\n  return <span>{prefix ? prefix + ' ' : ''}{units.map((unit, idx) => {\n    const num = duration[unit + 's']\n    if (!num) {\n      return false\n    }\n    showNum ||= num > 1 || units.filter(u => u !== unit && duration[u + 's']).length > 0\n    return <span key={idx}>{showNum ? ' ' + num : ''} {pluralize(unit, num)}</span>\n  })}</span>\n}\n\nexport default Duration\n","const ecomp = (a, b) => {\n  if (b === 'OTHER') return -1\n  if (a === 'OTHER') return 1\n  if (a < b) return -1\n  if (a === b) return 0\n  return 1\n}\n\nexport default ecomp\n","import React from 'react'\nimport RateTier from './RateTier'\nimport Duration from '../Duration'\nimport {translateDepositRateType} from '../../../utils/dict'\nimport {makeStyles} from '@material-ui/core'\nimport ecomp from '../../../utils/enum-comp'\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  }\n}))\n\nconst DepositRate = (props) => {\n  const classes = useStyles()\n  const {\n    rate,\n    depositRateType,\n    calculationFrequency,\n    applicationFrequency,\n    tiers,\n    additionalValue,\n    additionalInfo,\n    additionalInfoUri\n  } = props.depositRate\n  return (\n    <li>\n      <div>{(rate * 100).toFixed(2)}%</div>\n      <div>\n        {translateDepositRateType(depositRateType)}\n        {\n          (depositRateType === 'FIXED' || depositRateType === 'INTRODUCTORY') && !!additionalValue &&\n          <span> - <Duration prefix=\"every\" value={additionalValue}/></span>\n        }\n        {\n          ( depositRateType === 'BONUS' ||\n            depositRateType === 'BUNDLE_BONUS' ||\n            depositRateType === 'FLOATING' ||\n            depositRateType === 'MARKET_LINKED') &&\n          <span> - {additionalValue}</span>\n        }\n      </div>\n      {!!calculationFrequency && <div>Calculated <Duration prefix=\"every\" value={calculationFrequency}/></div>}\n      {!!applicationFrequency && <div>Applied <Duration prefix=\"every\" value={applicationFrequency}/></div>}\n      {\n        !!tiers && tiers.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Rate Tiers:</div>\n            <ul className={classes.sectionContent}>\n              {tiers.sort((a, b)=>ecomp(a.name, b.name)).map((tier, index) => <RateTier key={index} tier={tier}/>)}\n            </ul>\n          </div>\n      }\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default DepositRate\n","import React from 'react'\nimport RateTier from './RateTier'\nimport Duration from '../Duration'\nimport {translateInterestPaymentDue, translateLendingRateType, translateRepaymentType} from '../../../utils/dict'\nimport ecomp from '../../../utils/enum-comp'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  }\n}))\n\nconst LendingRate = (props) => {\n  const classes = useStyles()\n  const {\n    lendingRateType,\n    rate,\n    calculationFrequency,\n    applicationFrequency,\n    comparisonRate,\n    interestPaymentDue,\n    repaymentType,\n    loanPurpose,\n    tiers,\n    additionalValue,\n    additionalInfo,\n    additionalInfoUri\n  } = props.lendingRate\n  return (\n    <li>\n      <div>{(rate * 100).toFixed(2)}%</div>\n      {!!comparisonRate && <div>Comparison rate: {(comparisonRate * 100).toFixed(2)}%</div>}\n      <div>\n        {translateLendingRateType(lendingRateType)}\n        {\n          (lendingRateType === 'FIXED' || lendingRateType === 'INTRODUCTORY') && !!additionalValue &&\n          <span> - <Duration prefix=\"every\" value={additionalValue}/></span>\n        }\n        {\n          ( lendingRateType === 'DISCOUNT' ||\n            lendingRateType === 'PENALTY' ||\n            lendingRateType === 'FLOATING' ||\n            lendingRateType === 'MARKET_LINKED' ||\n            lendingRateType === 'BUNDLE_DISCOUNT_FIXED' ||\n            lendingRateType === 'BUNDLE_DISCOUNT_VARIABLE') &&\n          <span> - {additionalValue}</span>\n        }\n        {\n          ( lendingRateType === 'VARIABLE' ||\n            lendingRateType === 'PURCHASE' ) && !!additionalValue &&\n          <span> - {additionalValue}</span>\n        }\n      </div>\n      {!!calculationFrequency && <div>Calculated <Duration prefix=\"every\" value={calculationFrequency}/></div>}\n      {!!applicationFrequency && <div>Applied <Duration prefix=\"every\" value={applicationFrequency}/></div>}\n      {!!interestPaymentDue && <div>Interest Payment {translateInterestPaymentDue(interestPaymentDue)}</div>}\n      {!!repaymentType && <div>Repayment Type {translateRepaymentType(repaymentType)}</div>}\n      {!!loanPurpose && <div>Loan Purpose {loanPurpose}</div>}\n      {\n        !!tiers && tiers.length > 0 &&\n        <div>\n          <div className={classes.sectionTitle}>Rate Tiers:</div>\n          <ul className={classes.sectionContent}>\n            {tiers.sort((a, b)=>ecomp(a.name, b.name)).map((tier, index) => <RateTier key={index} tier={tier}/>)}\n          </ul>\n        </div>\n      }\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default LendingRate\n","import React from 'react'\nimport {translateEligibilityType} from '../../../utils/dict'\n\nconst Eligibility = (props) => {\n  const {eligibilityType, additionalValue, additionalInfo, additionalInfoUri} = props.eligibility\n  return (\n    <li>\n      <div>\n        {translateEligibilityType(eligibilityType)}\n        {eligibilityType === 'OTHER' && <span> - {additionalInfo}</span>}\n        {\n          ( eligibilityType === 'MIN_AGE' ||\n            eligibilityType === 'MAX_AGE' ||\n            eligibilityType === 'EMPLOYMENT_STATUS' ||\n            eligibilityType === 'RESIDENCY_STATUS') &&\n          <span> - {additionalValue}</span>\n        }\n        {\n          ( eligibilityType === 'BUSINESS' ||\n            eligibilityType === 'PENSION_RECIPIENT' ||\n            eligibilityType === 'STAFF' ||\n            eligibilityType === 'STUDENT' ||\n            eligibilityType === 'NATURAL_PERSON') && !!additionalValue &&\n          <span> - {additionalValue}</span>\n        }\n        {\n          ( eligibilityType === 'BUSINESS' ||\n            eligibilityType === 'PENSION_RECIPIENT' ||\n            eligibilityType === 'STAFF' ||\n            eligibilityType === 'STUDENT' ||\n            eligibilityType === 'NATURAL_PERSON') && !!additionalInfo &&\n          <div>{additionalInfo}</div>\n        }\n        {(eligibilityType === 'MIN_INCOME' || eligibilityType === 'MIN_TURNOVER') && <span> - ${additionalValue}</span>}\n      </div>\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default Eligibility\n","import React from 'react'\nimport {translateFeatureType} from '../../../utils/dict'\nimport Duration from '../Duration'\n\nconst Feature = (props) => {\n  const {featureType, additionalValue, additionalInfo, additionalInfoUri} = props.feature\n  return (\n    <li>\n      <div>\n        {translateFeatureType(featureType)}\n        {featureType === 'OTHER' && <span> - {additionalInfo}</span>}\n        {\n          ( featureType === 'CARD_ACCESS' ||\n            featureType === 'FREE_TXNS' ||\n            featureType === 'LOYALTY_PROGRAM' ||\n            featureType === 'INSURANCE' ||\n            featureType === 'DIGITAL_WALLET' ||\n            featureType === 'COMPLEMENTARY_PRODUCT_DISCOUNTS' ||\n            featureType === 'NOTIFICATIONS' ||\n            featureType === 'BONUS_REWARDS' ) &&\n          <span> - {additionalValue}</span>\n        }\n        {\n          ( featureType === 'ADDITIONAL_CARDS' ||\n            featureType === 'UNLIMITED_TXNS' ||\n            featureType === 'OFFSET' ||\n            featureType === 'OVERDRAFT' ||\n            featureType === 'REDRAW' ||\n            featureType === 'BALANCE_TRANSFERS' ||\n            featureType === 'DIGITAL_BANKING' ||\n            featureType === 'NPP_PAYID' ||\n            featureType === 'NPP_ENABLED' ||\n            featureType === 'DONATE_INTEREST' ||\n            featureType === 'BILL_PAYMENT') && !!additionalValue &&\n          <span> - {additionalValue}</span>\n        }\n        {\n          ( featureType === 'ADDITIONAL_CARDS' ||\n            featureType === 'UNLIMITED_TXNS' ||\n            featureType === 'OFFSET' ||\n            featureType === 'OVERDRAFT' ||\n            featureType === 'REDRAW' ||\n            featureType === 'BALANCE_TRANSFERS' ||\n            featureType === 'DIGITAL_BANKING' ||\n            featureType === 'NPP_PAYID' ||\n            featureType === 'NPP_ENABLED' ||\n            featureType === 'DONATE_INTEREST' ||\n            featureType === 'BILL_PAYMENT') && !!additionalInfo &&\n          <div>{additionalInfo}</div>\n        }\n        {\n          (featureType === 'INTEREST_FREE' || featureType === 'INTEREST_FREE_TRANSFERS') &&\n          <span> - <Duration prefix=\"every\" value={additionalValue}/></span>\n        }\n        {featureType === 'FREE_TXNS_ALLOWANCE' && <span> - ${additionalValue}</span>}\n      </div>\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default Feature\n","import React from 'react'\nimport {translateEligibilityType} from '../../../utils/dict'\n\nconst DiscountEligibility = (props) => {\n  const {discountEligibilityType, additionalValue, additionalInfo, additionalInfoUri} = props.eligibility\n  const additionalInfoDescription = discountEligibilityType === 'OTHER' && <span> - {additionalInfo}</span>\n  return (\n    <li>\n      <div>\n        {translateEligibilityType(discountEligibilityType)}\n        {\n          ( discountEligibilityType === 'MIN_AGE' ||\n            discountEligibilityType === 'MAX_AGE' ||\n            discountEligibilityType === 'EMPLOYMENT_STATUS' ||\n            discountEligibilityType === 'RESIDENCY_STATUS') ?\n          <span> - {additionalValue}</span> : additionalInfoDescription\n        }\n        {\n          ( discountEligibilityType === 'PENSION_RECIPIENT' ||\n            discountEligibilityType === 'STUDENT') && !!additionalValue &&\n          <span> - {additionalValue}</span>\n        }\n        {(discountEligibilityType === 'MIN_INCOME' || discountEligibilityType === 'MIN_TURNOVER') && <span> - ${additionalValue}</span>}\n      </div>\n      {!additionalInfoDescription && !!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n    </li>\n  )\n}\n\nexport default DiscountEligibility\n","import React from 'react'\nimport DiscountEligibility from './DiscountEligibility'\nimport {makeStyles} from '@material-ui/core'\nimport {translateDiscountType} from '../../../utils/dict'\nimport Duration from '../Duration'\nimport ecomp from '../../../utils/enum-comp'\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  }\n}))\n\nconst FeeDiscount = (props) => {\n  const classes = useStyles()\n  const {\n    description,\n    discountType,\n    amount,\n    balanceRate,\n    transactionRate,\n    accruedRate,\n    feeRate,\n    additionalValue,\n    additionalInfo,\n    additionalInfoUri,\n    eligibility\n  } = props.discount\n  return (\n    <li>\n      {!!amount && <div>${amount}</div>}\n      {!!balanceRate && <div>Balance rate: {(balanceRate * 100).toFixed(2)}%</div>}\n      {!!transactionRate && <div>Transaction rate: {(transactionRate * 100).toFixed(2)}%</div>}\n      {!!accruedRate && <div>Accrued rate: {(accruedRate * 100).toFixed(2)}%</div>}\n      {!!feeRate && <div>Fee rate: {(feeRate * 100).toFixed(2)}%</div>}\n      <div>\n        Discount Type - {translateDiscountType(discountType)}\n        {\n          (discountType === 'BALANCE' ||\n            discountType === 'DEPOSITS' ||\n            discountType === 'PAYMENTS') &&\n          <span> - ${additionalValue}</span>\n        }\n        {\n          discountType === 'FEE_CAP' &&\n          <span> - <Duration prefix=\"every\" value={additionalValue}/></span>\n        }\n      </div>\n      <div>{description}</div>\n      {discountType === 'ELIGIBILITY_ONLY' && additionalValue && <div>{additionalValue}</div>}\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n      {\n        !!eligibility && eligibility.length > 0 &&\n        <div>\n          <div className={classes.sectionTitle}>Discount Eligibilities</div>\n          <ul className={classes.sectionContent}>\n            {eligibility.sort((a, b)=>ecomp(a.discountEligibilityType, b.discountEligibilityType)).map(\n              (discountEligibility, index) => <DiscountEligibility key={index} eligibility={discountEligibility}/>)}\n          </ul>\n        </div>\n      }\n    </li>\n  )\n}\n\nexport default FeeDiscount\n","import {pattern} from 'iso8601-duration'\n\nexport function format(rfc3339DateTime) {\n  const date = new Date(Date.parse(rfc3339DateTime)).toString()\n  const index = date.indexOf('GMT')\n  if (index > 0) return date.substring(0, index)\n  return date\n}\n\nexport function isDuration(str) {\n  return pattern.test(str)\n}\n","import React from 'react'\nimport FeeDiscount from './FeeDiscount'\nimport Duration from '../Duration'\nimport {translateFeeType} from '../../../utils/dict'\nimport {makeStyles} from '@material-ui/core'\nimport ecomp from '../../../utils/enum-comp'\nimport {isDuration} from '../../../utils/datetime'\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  }\n}))\n\nconst Fee = (props) => {\n  const classes = useStyles()\n  const {\n    name,\n    feeType,\n    amount,\n    balanceRate,\n    transactionRate,\n    accruedRate,\n    accrualFrequency,\n    currency,\n    additionalValue,\n    additionalInfo,\n    additionalInfoUri,\n    discounts\n  } = props.fee\n  return (\n    <li>\n      <div>\n        {name}\n        {!!amount && <span> - ${amount}</span>}\n        {!!balanceRate && <span> - {(balanceRate * 100).toFixed(2)}%</span>}\n        {!!transactionRate && <span> - {(transactionRate * 100).toFixed(2)}%</span>}\n        {!!accruedRate && <span> - {(accruedRate * 100).toFixed(2)}%</span>}\n        {!!accrualFrequency && <span> - <Duration prefix=\"every\" value={accrualFrequency}/></span>}\n      </div>\n      <div>\n        Fee Type - {translateFeeType(feeType)}\n        {feeType === 'PERIODIC' && <span> - <Duration prefix=\"every\" value={additionalValue}/></span>}\n\n      </div>\n      {!!currency && <div>Currency - {currency}</div>}\n      {\n        feeType !== 'PERIODIC' && !!additionalValue && \n        <div>\n          {isDuration(additionalValue) ? <><Duration prefix=\"every\" value={additionalValue}/></> : additionalValue}\n        </div>}\n      {!!additionalInfo && <div>{additionalInfo}</div>}\n      {!!additionalInfoUri && <div><a href={additionalInfoUri} target='_blank' rel='noopener noreferrer'>More info</a></div>}\n      {\n        !!discounts && discounts.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Discounts:</div>\n            <ul className={classes.sectionContent}>\n              {discounts.sort((a, b)=>ecomp(a.discountType, b.discountType)).map(\n                (discount, index) =><FeeDiscount key={index} discount={discount}/>)}\n            </ul>\n          </div>\n      }\n    </li>\n  )\n}\n\nexport default Fee\n","import React from 'react'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(() => ({\n  cardArt: {\n    display: 'table-row',\n    '& img': {\n    maxWidth: 100,\n    maxHeight: 100,\n    display: 'table-cell',\n    verticalAlign: 'middle',\n    paddingRight: 5\n    },\n    '& span': {\n    display: 'table-cell',\n    verticalAlign: 'middle'\n    }\n  }\n}))\n\nfunction CardArt(props) {\n  const {cardArt} = props\n  const classes = useStyles()\n  return (\n    <li>\n      {!!cardArt.title && <div>{cardArt.title}</div>}\n      <div>\n        <a className={classes.cardArt} href={cardArt.imageUri} target=\"_blank\" rel=\"noopener noreferrer\">\n          <img src={cardArt.imageUri} alt=\"\"/>\n          <span>{cardArt.imageUri}</span>\n        </a>\n      </div>\n    </li>\n  )\n}\n\nexport default CardArt","import React from 'react'\nimport {format} from '../../utils/datetime'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(() => ({\n  datetime: {\n    textDecoration: 'underline'\n  }\n}))\n\nconst DateTime = ({rfc3339}) => {\n  const classes = useStyles()\n  return (<span className={classes.datetime}>{format(rfc3339)}</span>)\n}\n\nexport default DateTime\n","import React from 'react'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(() => ({\n  ul: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  },\n  tableCell: {\n    marginTop: 0,\n    marginBottom: 0,\n    padding: 0\n  }\n}))\n\nconst AdditionalInfo = (props) => {\n  const {tableCell} = props\n  const {overviewUri, termsUri, eligibilityUri, feesAndPricingUri, bundleUri} = props.additionalInfo\n  const classes = useStyles()\n  return (\n    <ul className={!!tableCell ? classes.tableCell : classes.ul}>\n      {!!overviewUri && <li><a href={overviewUri} target='_blank' rel='noopener noreferrer'>Overview</a></li>}\n      {!!termsUri && <li><a href={termsUri} target='_blank' rel='noopener noreferrer'>Terms</a></li>}\n      {!!eligibilityUri && <li><a href={eligibilityUri} target='_blank' rel='noopener noreferrer'>Eligibility</a></li>}\n      {!!feesAndPricingUri && <li><a href={feesAndPricingUri} target='_blank' rel='noopener noreferrer'>Fee and Pricing</a></li>}\n      {!!bundleUri && <li><a href={bundleUri} target='_blank' rel='noopener noreferrer'>Bundle</a></li>}\n    </ul>\n  )\n}\n\nexport default AdditionalInfo\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport MuiAccordion from '@material-ui/core/Accordion'\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\nimport {makeStyles, withStyles} from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Typography from '@material-ui/core/Typography'\nimport Bundle from './Bundle'\nimport Constraint from './Constraint'\nimport DepositRate from './DepositRate'\nimport LendingRate from './LendingRate'\nimport Eligibility from './Eligibility'\nimport Feature from './Feature'\nimport Fee from './Fee'\nimport CardArt from './CardArt'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport {deselectProduct, selectProduct} from '../../../store/banking/selection'\nimport DateTime from '../DateTime'\nimport AdditionalInfo from './AdditionalInfo'\nimport ecomp from '../../../utils/enum-comp'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    alignItems: 'flex-start'\n  },\n  details: {\n    display: 'block',\n    lineHeight: '1.8rem',\n    paddingRight: 40\n  },\n  datetime: {\n    textDecoration: 'underline'\n  },\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  }\n}))\n\nconst Accordion = withStyles({\n  root: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(MuiAccordion)\n\nconst AccordionSummary = withStyles({\n  root: {\n    paddingLeft: 0,\n    paddingRight: 24,\n    alignItems: 'flex-start',\n    backgroundColor: 'transparent',\n    marginBottom: -1,\n    maxHeight: 36,\n    minHeight: 24,\n    '&$expanded': {\n      maxHeight: 36,\n      minHeight: 24,\n    }\n  },\n  content: {\n    margin: '8px 0',\n    '&$expanded': {\n      margin: '8px 0',\n    },\n  },\n  expandIcon: {\n    paddingTop: 8,\n    '&$expanded': {\n      paddingTop: 8\n    }\n  },\n  expanded: {},\n})(MuiAccordionSummary)\n\nconst Product = (props) => {\n  const classes = useStyles()\n  const {product, dataSourceIndex, selectedProducts} = props\n  const selected = selectedProducts.filter(\n    prd=>(prd.dataSourceIdx === dataSourceIndex && prd.product.productId === product.productId)).length > 0\n  const handleChange = event => {\n    event.target.checked ? props.selectProduct(dataSourceIndex, product) : props.deselectProduct(dataSourceIndex, product)\n  }\n  const blob = new Blob([JSON.stringify(product, null, 2)], {type : 'application/json'})\n  return (\n    <div className={classes.root}>\n    <Checkbox\n      checked={selected}\n      onChange={handleChange}\n      color='primary'\n    />\n    <Accordion defaultExpanded={false}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <Typography style={{fontSize: '0.8rem'}}>{product.name}</Typography>\n      </AccordionSummary>\n      <div style={{fontSize: '0.8rem'}}>\n        <div>{product.description}</div>\n        <div>Brand: {product.brand} {!!product.bandName && <span>({product.bandName})</span>}</div>\n        <div>Last updated at <DateTime rfc3339={product.lastUpdated}/> <a href={URL.createObjectURL(blob)} target=\"_blank\" rel=\"noopener noreferrer\">JSON</a></div>\n        <div>{product.isTailored ? 'Tailored' : 'Not Tailored'}</div>\n        {!!product.effectiveFrom && <div>Effective from <DateTime rfc3339={product.effectiveFrom}/></div>}\n        {!!product.effectiveTo && <div>Effective to <DateTime rfc3339={product.effectiveTo}/></div>}\n        {!!product.applicationUri && <div><a href={product.applicationUri} target='_blank' rel='noopener noreferrer'>Apply here</a></div>}\n        {\n          !!product.additionalInformation &&\n          <div>\n            <div className={classes.sectionTitle}>Additional Information:</div>\n            <AdditionalInfo additionalInfo={product.additionalInformation}/>\n          </div>\n        }\n        {\n          !!product.bundles && product.bundles.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Bundles:</div>\n            <ul className={classes.sectionContent}>\n              {product.bundles.sort((a, b)=>ecomp(a.name, b.name)).map(\n                (bundle, index) => <Bundle key={index} bundle={bundle}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.constraints && product.constraints.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Constraints:</div>\n            <ul className={classes.sectionContent}>\n              {product.constraints.sort((a, b)=>ecomp(a.constraintType, b.constraintType)).map(\n                (constraint, index) => <Constraint key={index} constraint={constraint}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.depositRates && product.depositRates.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Deposit Rates:</div>\n            <ul className={classes.sectionContent}>\n              {product.depositRates.sort((a, b)=>ecomp(a.depositRateType, b.depositRateType)).map(\n                (depositRate, index) => <DepositRate key={index} depositRate={depositRate}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.lendingRates && product.lendingRates.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Lending Rates:</div>\n            <ul className={classes.sectionContent}>\n              {product.lendingRates.sort((a, b)=>ecomp(a.lendingRateType, b.lendingRateType)).map(\n                (lendingRate, index) => <LendingRate key={index} lendingRate={lendingRate}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.eligibility && product.eligibility.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Eligibilities:</div>\n            <ul className={classes.sectionContent}>\n              {product.eligibility.sort((a, b)=>ecomp(a.eligibilityType, b.eligibilityType)).map(\n                (eligibility, index) => <Eligibility key={index} eligibility={eligibility}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.features && product.features.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Features:</div>\n            <ul className={classes.sectionContent}>\n              {product.features.sort((a, b)=>ecomp(a.featureType, b.featureType)).map(\n                (feature, index) => <Feature key={index} feature={feature}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.fees && product.fees.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Fees:</div>\n            <ul className={classes.sectionContent}>\n              {product.fees.filter(fee => fee).sort((a, b)=>ecomp(a.feeType, b.feeType)).map(\n                (fee, index) => <Fee key={index} fee={fee}/>)}\n            </ul>\n          </div>\n        }\n        {\n          !!product.cardArt && product.cardArt.length > 0 &&\n          <div>\n            <div className={classes.sectionTitle}>Card Art:</div>\n            <ul className={classes.sectionContent}>\n              {product.cardArt.map((cardArt, index) =>\n                <CardArt key={index} cardArt={cardArt}/>\n              )}\n            </ul>\n          </div>\n        }\n      </div>\n    </Accordion>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  selectedProducts: state.bankingSelection\n})\n\nconst mapDispatchToProps = { selectProduct, deselectProduct }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product)\n","import React from 'react'\nimport Product from './Product'\nimport {translateProductCategory} from '../../../utils/dict'\n\nconst strcomp = (a, b) => {\n  if ( a < b) return -1\n  else if (a === b) return 0\n  else return 1\n}\n\nconst ProductCategory = (props) => {\n  const { dataSourceIndex, category, products } = props\n  return (\n    <div>\n      <h4>{translateProductCategory(category)}</h4>\n      {products.sort((a,b)=>(strcomp(a.name, b.name))).map(\n        (product, index) => <Product key={index} product={product} dataSourceIndex={dataSourceIndex}/>)}\n    </div>\n  )\n}\n\nexport default ProductCategory\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {START_RETRIEVE_PRODUCT_LIST, startRetrieveProductList, retrieveProductList} from '../../../store/banking/data'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport ProductCategory from './ProductCategory'\nimport {normalise} from '../../../utils/url'\n\nclass BankingProductList extends React.Component {\n\n  componentDidMount() {\n    const { dataSourceIndex, dataSource, versionInfo } = this.props\n    const { url } = dataSource\n    const normalisedUrl = normalise(url)\n    const productListUrl = normalisedUrl + '/banking/products'\n    this.props.startRetrieveProductList(dataSourceIndex)\n    this.props.retrieveProductList(dataSourceIndex, normalisedUrl, productListUrl, versionInfo.xV, versionInfo.xMinV)\n  }\n\n  render() {\n    const { dataSourceIndex } = this.props\n    let productList = this.props.productList[dataSourceIndex];\n    productList = !!productList ? productList : {}\n    const { progress, totalRecords, detailRecords, failedDetailRecords, products, productDetails } = productList\n    const productsByCategory = {}\n    const processedRecords = detailRecords + failedDetailRecords\n    if (!!totalRecords && totalRecords <= processedRecords) {\n      const productsMap = {}\n      if (failedDetailRecords > 0) {\n        products.forEach(product => {productsMap[product.productId] = product})\n      }\n      !!productDetails && productDetails.forEach(productDetail => {\n        if (productDetail) {\n          let productCategory = productDetail.productCategory;\n          if (!productsByCategory[productCategory]) {\n            productsByCategory[productCategory] = []\n          }\n          productsByCategory[productCategory].push(productDetail)\n          delete productsMap[productDetail.productId]\n        }\n      })\n      Object.keys(productsMap).forEach(productId => {\n        const product = productsMap[productId]\n        let productCategory = product.productCategory;\n        if (!productsByCategory[productCategory]) {\n          productsByCategory[productCategory] = []\n        }\n        productsByCategory[productCategory].push(product)\n      })\n    }\n\n    return (\n      <div style={{maxHeight: 300, overflow: 'auto'}}>\n        {\n          !!totalRecords && (processedRecords < totalRecords) &&\n          <LinearProgress variant='determinate' value={processedRecords * 100 / totalRecords} style={{width: '93%'}} />\n        }\n        {\n          progress === START_RETRIEVE_PRODUCT_LIST && <p>Getting all current products...</p>\n        }\n        {\n          processedRecords < totalRecords && <p>Getting product details...</p>\n        }\n        {\n          !!products && processedRecords >= totalRecords &&\n          Object.keys(productsByCategory).sort().map((category, index) => (\n            <ProductCategory key={index} category={category} products={productsByCategory[category]} dataSourceIndex={dataSourceIndex}/>\n          ))\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  productList: state.banking,\n  versionInfo: state.versionInfo.vHeaders\n})\n\nconst mapDispatchToProps = {startRetrieveProductList, retrieveProductList}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BankingProductList)\n","export const COMPARE_PRODUCTS = 'COMPARE_PRODUCTS'\n\nexport const compareProducts = (products) => ({\n  type: COMPARE_PRODUCTS,\n  payload: products\n})\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionActions from '@material-ui/core/AccordionActions'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SubjectIcon from '@material-ui/icons/Subject'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport CompareIcon from '@material-ui/icons/Compare'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport Fab from '@material-ui/core/Fab'\nimport Grid from '@material-ui/core/Grid'\nimport BankingProductList from './BankingProductList'\nimport { compareProducts } from '../../../store/banking/comparison'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginLeft: theme.typography.pxToRem(20),\n    marginRight: theme.typography.pxToRem(20)\n  },\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  details: {\n    maxWidth:'95%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: 20\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  leftIcon: {\n    marginRight: theme.spacing(1),\n  }\n}))\n\nconst BankingPanel = (props) => {\n  const {dataSources, savedDataSourcesCount} = props\n  const classes = useStyles()\n  const [expanded, setExpanded] = React.useState(true)\n  const compare = () => {\n    if( /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n      alert('The screen size is too small! Please use a bigger screen to compare.')\n      return\n    }\n    props.compareProducts(props.selectedProducts)\n    setExpanded(false)\n  }\n  const toggleExpansion = (event, newExpanded) => {\n    setExpanded(newExpanded)\n  }\n\n  const getWidth = (dataSourceCount, min) => {\n    return Math.max(12 / dataSourceCount, min)\n  }\n\n  return (\n    <Accordion defaultExpanded className={classes.panel} expanded={expanded} onChange={toggleExpansion}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <div className={classes.heading}>\n          <SubjectIcon/><Typography style={{paddingLeft: 8}}>Products</Typography>\n        </div>\n      </AccordionSummary>\n      <div className={classes.details}>\n      {\n        savedDataSourcesCount > 0 &&\n        <Grid container alignItems='flex-start' spacing={2} className={classes.container}>\n          {dataSources.map((dataSource, index) => (\n            isBankingDataSource(dataSource) &&\n            <Grid item key={index}\n                  xs={getWidth(savedDataSourcesCount, 12)}\n                  sm={getWidth(savedDataSourcesCount, 12)}\n                  md={getWidth(savedDataSourcesCount, 6)}\n                  lg={getWidth(savedDataSourcesCount, 4)}\n                  xl={getWidth(savedDataSourcesCount, 3)}\n            >\n              <div className=\"title\">{!!dataSource.icon && <span><img src={dataSource.icon} alt=\"\"/></span>}<h2>{dataSource.name}</h2></div>\n              <BankingProductList dataSource={dataSource} dataSourceIndex={index}/>\n            </Grid>\n          ))}\n        </Grid>\n      }\n      </div>\n      <Divider/>\n      <AccordionActions>\n        <Fab variant='extended' size='medium' color='primary'\n             disabled={props.selectedProducts.length < 2 || props.selectedProducts.length > 4}\n             className={classes.button} onClick={compare}>\n          <CompareIcon className={classes.leftIcon}/>\n          Compare\n        </Fab>\n      </AccordionActions>\n    </Accordion>\n  )\n}\n\nfunction isBankingDataSource(dataSource) {\n  return !dataSource.unsaved && !dataSource.deleted && dataSource.enabled && (!dataSource.sectors || dataSource.sectors.includes(\"banking\"))\n}\n\nconst mapStateToProps = state=>({\n  dataSources : state.dataSources,\n  savedDataSourcesCount: state.dataSources.filter(dataSource => isBankingDataSource(dataSource)).length,\n  selectedProducts: state.bankingSelection\n})\n\nconst mapDispatchToProps = { compareProducts }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BankingPanel)\n","import {conoutInfo, conoutError} from '../../conout/actions'\n\nexport const START_RETRIEVE_PLAN_LIST = 'START_RETRIEVE_PLAN_LIST'\nexport const RETRIEVE_PLAN_LIST = 'RETRIEVE_PLAN_LIST'\nexport const RETRIEVE_PLAN_DETAIL = 'RETRIEVE_PLAN_DETAIL'\nexport const RETRIEVE_ALL_PLAN_DETAILS = 'RETRIEVE_ALL_PLAN_DETAILS'\nexport const CLEAR_DATA = 'CLEAR_ENERGY_DATA'\n\nexport const startRetrievePlanList = (dataSourceIdx) => ({\n  type: START_RETRIEVE_PLAN_LIST,\n  payload: {idx: dataSourceIdx}\n})\n\nconst headers = {\n  'Accept': 'application/json'\n}\n\nfunction createConoutError(error, url) {\n  return conoutError('Caught ' + error + ' while requesting ' + url + (error.name === 'TypeError' ?\n    ' Possibly caused by the endpoint not supporting Cross-Origin Requests (CORS)' : ''))\n}\n\nexport const retrievePlanList = (dataSourceIdx, baseUrl, planListUrl, xV, xMinV, effective, fuelType) =>\n  (dispatch) => {\n    const request = new Request(planListUrl, {headers: new Headers({...headers, 'x-v': xV, 'x-min-v': xMinV})})\n    dispatch(conoutInfo(`Requesting retrievePlanList() for ${planListUrl}`))\n    const response = dispatch({\n      type: RETRIEVE_PLAN_LIST,\n      payload: fetch(request)\n        .then(response => {\n          if (response.ok) {\n            return response.json()\n          }\n          throw new Error(`Response not OK. Status: ${response.status} (${response.statusText})`)\n        })\n        .then(obj => {\n          dispatch(conoutInfo(`Received retrievePlanList() response for ${planListUrl}:`, obj))\n          return obj\n        })\n        .catch(error => {\n          dispatch(createConoutError(error, planListUrl))\n          return {\n            meta: {totalRecords: 0},\n            data: {plans: []},\n            links: {}\n          }\n        })\n        .then(json => ({idx: dataSourceIdx, response: json}))\n    })\n    response.then(({value})=> {\n      const {plans} = value.response.data\n      const actions = plans.map(plan => retrievePlanDetail(dataSourceIdx, baseUrl, plan.planId, xV, xMinV))\n      const {next} = value.response.links\n      if (!!next) {\n        const proxyRegExp = RegExp('^(https?://.*)(https?://.*)', 'gi') // RegExp objects are not thread safe\n        const proxyInfo = proxyRegExp.exec(planListUrl)\n        if ((proxyInfo && (next === proxyInfo[2])) || (!proxyInfo && (next === planListUrl))) {\n          dispatch(conoutError(`The link next should not be the same as the current page URL (${planListUrl}):`, value.response.links))\n        } else {\n          actions.push(retrievePlanList(dataSourceIdx, baseUrl, proxyInfo ? proxyInfo[1] + next : next, xV, xMinV, effective, fuelType))\n        }\n      }\n      dispatch(retrieveAllPlanDetails(actions))\n    })\n  }\n\nexport const retrievePlanDetail = (dataSourceIdx, url, planId, xV, xMinV) => (dispatch, getState) => {\n  const fullUrl = url + '/energy/plans/' + planId\n  const request = new Request(fullUrl, {\n    headers: new Headers({...headers, 'x-v': xV, 'x-min-v': xMinV})\n  })\n  dispatch(conoutInfo('Requesting retrievePlanDetail() for plan ' + planId))\n  dispatch({\n    type: RETRIEVE_PLAN_DETAIL,\n    payload: fetch(request)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n        throw new Error(`Response not OK. Status: ${response.status} (${response.statusText})`)\n      })\n      .then(obj => {\n        dispatch(conoutInfo(`Received response for ${fullUrl}:`, obj))\n        return {idx: dataSourceIdx, response: obj}\n      })\n      .catch(error => {\n        dispatch(createConoutError(error, fullUrl))\n        return {idx: dataSourceIdx, response: null}\n      })\n  })\n}\n\nexport const retrieveAllPlanDetails = (actions) => dispatch => dispatch({\n  type: RETRIEVE_ALL_PLAN_DETAILS,\n  payload: Promise.all(actions.map(action => dispatch(action)))\n})\n\nexport const clearData = (dataSourceIdx) => ({\n  type: CLEAR_DATA,\n  payload: dataSourceIdx\n})\n","import React from 'react'\n\nconst ExternalLink = ({link, children}) => (\n  <a href={link} target='_blank' rel='noopener noreferrer'>{children}</a>\n)\n\nexport default ExternalLink\n","import React from 'react'\nimport {makeStyles} from '@material-ui/core'\nimport ExternalLink from './ExternalLink'\n\nconst useStyles = makeStyles(() => ({\n  ul: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  },\n  tableCell: {\n    marginTop: 0,\n    marginBottom: 0,\n    padding: 0\n  }\n}))\n\nconst AdditionalInfo = ({tableCell, additionalInfo}) => {\n  const {overviewUri, termsUri, eligibilityUri, pricingUri, bundleUri} = additionalInfo\n  const classes = useStyles()\n  return (\n    <ul className={!!tableCell ? classes.tableCell : classes.ul}>\n      {!!overviewUri && <li><ExternalLink link={overviewUri}>Overview</ExternalLink></li>}\n      {!!termsUri && <li><ExternalLink link={termsUri}>Terms and Conditions</ExternalLink></li>}\n      {!!eligibilityUri && <li><ExternalLink link={eligibilityUri}>Eligibility</ExternalLink></li>}\n      {!!pricingUri && <li><ExternalLink link={pricingUri}>Pricing</ExternalLink></li>}\n      {!!bundleUri && <li><ExternalLink link={bundleUri}>Bundle</ExternalLink></li>}\n    </ul>\n  )\n}\n\nexport default AdditionalInfo\n","export const SELECT_ENERGY_PLAN = 'SELECT_ENERGY_PLAN'\nexport const DESELECT_ENERGY_PLAN = 'DESELECT_ENERGY_PLAN'\nexport const CLEAR_ENERGY_SELECTION = 'CLEAR_ENERGY_SELECTION'\n\nexport const selectPlan = (dataSourceIdx, plan) => ({\n    type: SELECT_ENERGY_PLAN,\n    payload: { dataSourceIdx, plan }\n})\n\nexport const deselectPlan = (dataSourceIdx, plan) => ({\n    type: DESELECT_ENERGY_PLAN,\n    payload: { dataSourceIdx, plan }\n})\n\nexport const clearSelection = (dataSourceIdx) => ({\n    type: CLEAR_ENERGY_SELECTION,\n    payload: dataSourceIdx\n})\n","import React from 'react'\n\nconst typeDict = {\n  STANDING: 'Standing',\n  MARKET: 'Market',\n  REGULATED: 'Regulated'\n}\n\nconst Type = ({type}) => (\n  <span>{typeDict[type]}</span>\n)\n\nexport default Type\n","import React from 'react'\n\nconst fuelTypeDict = {\n  ELECTRICITY: 'Electricity',\n  GAS: 'Gas',\n  DUAL: 'Dual'\n}\n\nconst FuelType = ({fuelType}) => (\n  <span>{fuelTypeDict[fuelType]}</span>\n)\n\nexport default FuelType\n","import React from 'react'\n\nconst customerTypeDict = {\n  RESIDENTIAL: 'Residential',\n  BUSINESS: 'Business'\n}\n\nconst CustomerType = ({customerType}) => (\n  <span>{customerTypeDict[customerType]}</span>\n)\n\nexport default CustomerType\n","import React from 'react'\n\nconst Geography = ({geography}) => {\n  const {excludedPostcodes, includedPostcodes, distributors} = geography\n  return (\n    <>\n      {excludedPostcodes && excludedPostcodes.length > 0 && (\n        <li><div>Excluded Postcodes:</div> <span>{excludedPostcodes.join(', ')}</span></li>\n      )}\n      {includedPostcodes && includedPostcodes.length > 0 && (\n        <li><div>Included Postcodes:</div> <span>{includedPostcodes.join(', ')}</span></li>\n      )}\n      {distributors && (\n      <li>\n        <div>Distributors:</div>\n        <ul>\n          {distributors.map((distributor, idx) => <li key={idx}>{distributor}</li>)}\n        </ul>\n      </li>\n      )}\n    </>\n  )\n}\n\nexport default Geography\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {makeStyles, withStyles} from '@material-ui/core'\nimport MuiAccordion from '@material-ui/core/Accordion'\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Typography from '@material-ui/core/Typography'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport DateTime from '../DateTime'\nimport AdditionalInfo from './AdditionalInfo'\nimport {deselectPlan, selectPlan} from '../../../store/energy/selection'\nimport Type from './Type'\nimport FuelType from './FuelType'\nimport CustomerType from './CustomerType'\nimport ExternalLink from './ExternalLink'\nimport Geography from './Geography'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    alignItems: 'flex-start'\n  },\n  sectionTitle: {\n    fontStyle: 'italic'\n  },\n  sectionContent: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingLeft: 20\n  }\n}))\n\nconst Accordion = withStyles({\n  root: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(MuiAccordion)\n\nconst AccordionSummary = withStyles({\n  root: {\n    paddingLeft: 0,\n    paddingRight: 24,\n    alignItems: 'flex-start',\n    backgroundColor: 'transparent',\n    marginBottom: -1,\n    maxHeight: 36,\n    minHeight: 24,\n    '&$expanded': {\n      maxHeight: 36,\n      minHeight: 24,\n    }\n  },\n  content: {\n    margin: '8px 0',\n    '&$expanded': {\n      margin: '8px 0',\n    },\n  },\n  expandIcon: {\n    paddingTop: 8,\n    '&$expanded': {\n      paddingTop: 8\n    }\n  },\n  expanded: {}\n})(MuiAccordionSummary)\n\nconst Plan = (props) => {\n  const {plan, dataSourceIndex, selectedPlans} = props\n  const classes = useStyles()\n  const selected = selectedPlans.some(selection => (selection.dataSourceIdx === dataSourceIndex && selection.plan.planId === plan.planId))\n  const handleChange = event => event.target.checked ? props.selectPlan(dataSourceIndex, plan) : props.deselectPlan(dataSourceIndex, plan)\n  const blob = new Blob([JSON.stringify(plan, null, 2)], {type : 'application/json'})\n\n  return (\n    <div className={classes.root}>  \n    <Checkbox\n      checked={selected}\n      onChange={handleChange}\n      color='primary'\n    />\n    <Accordion defaultExpanded={false}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <Typography style={{fontSize: '0.8rem'}}>{plan.displayName}</Typography>\n      </AccordionSummary>\n      <div style={{fontSize: '0.8rem'}}>\n        <div>{plan.description}</div>\n        <div>Brand: {plan.brand} {!!plan.brandName && <span>({plan.brandName})</span>}</div>\n        <div>Type: <Type type={plan.type} /></div>\n        <div>Fuel Type: <FuelType fuelType={plan.fuelType} /></div>\n        <div>Last updated at <DateTime rfc3339={plan.lastUpdated} /> <ExternalLink link={URL.createObjectURL(blob)}>JSON</ExternalLink></div>\n        {!!plan.effectiveFrom && <div>Effective from <DateTime rfc3339={plan.effectiveFrom} /></div>}\n        {!!plan.effectiveTo && <div>Effective to <DateTime rfc3339={plan.effectiveTo} /></div>}\n        {!!plan.applicationUri && <ExternalLink link={plan.applicationUri}>Apply here</ExternalLink>}\n        {\n          !!plan.additionalInformation &&\n          <div>\n            <div className={classes.sectionTitle}>Additional Information:</div>\n            <AdditionalInfo additionalInfo={plan.additionalInformation} />\n          </div>\n        }\n        {!!plan.customerType && <div>Customer Type: <CustomerType customerType={plan.customerType} /></div>}\n        {\n          !!plan.geography &&\n          <div>\n            <div className={classes.sectionTitle}>Geography:</div>\n            <ul className={classes.sectionContent}>\n              <Geography geography={plan.geography} />\n            </ul>\n          </div>\n        }\n      </div>\n    </Accordion>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  selectedPlans: state.energySelection\n})\n\nconst mapDispatchToProps = { selectPlan, deselectPlan }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Plan)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {START_RETRIEVE_PLAN_LIST} from '../../../store/energy/data'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Plan from './Plan'\n\nclass EnergyPlanList extends React.Component {\n  render() {\n    const { dataSourceIndex } = this.props\n    let planList = this.props.planList[dataSourceIndex];\n    planList = !!planList ? planList : {}\n    const { progress, totalRecords, detailRecords, failedDetailRecords, plans } = planList\n    const processedRecords = detailRecords + failedDetailRecords\n\n    return (\n      <div style={{maxHeight: 300, overflow: 'auto'}}>\n        {\n          !!totalRecords && (processedRecords < totalRecords) &&\n          <LinearProgress variant='determinate' value={processedRecords * 100 / totalRecords} style={{width: '93%'}} />\n        }\n        {\n          progress === START_RETRIEVE_PLAN_LIST && <p>Getting all current plans...</p>\n        }\n        {\n          processedRecords < totalRecords && <p>Getting plan details...</p>\n        }\n        {\n          !!plans && processedRecords >= totalRecords && Object.values(plans).map((plan, index) => (\n            <Plan key={index} plan={plan} dataSourceIndex={dataSourceIndex} />\n          ))\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  planList: state.energy\n})\n\nconst mapDispatchToProps = {}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EnergyPlanList)\n","export const COMPARE_ENERGY_PLANS = 'COMPARE_ENERGY_PLANS'\n\nexport const comparePlans = (plans) => ({\n  type: COMPARE_ENERGY_PLANS,\n  payload: plans\n})\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionActions from '@material-ui/core/AccordionActions'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SubjectIcon from '@material-ui/icons/Subject'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport CompareIcon from '@material-ui/icons/Compare'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport Fab from '@material-ui/core/Fab'\nimport Grid from '@material-ui/core/Grid'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport EnergyPlanList from './EnergyPlanList'\nimport {startRetrievePlanList, retrievePlanList, clearData} from '../../../store/energy/data'\nimport {normalise} from '../../../utils/url'\nimport {comparePlans} from '../../../store/energy/comparison'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginLeft: theme.typography.pxToRem(20),\n    marginRight: theme.typography.pxToRem(20)\n  },\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  details: {\n    maxWidth:'95%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: 20\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  leftIcon: {\n    marginRight: theme.spacing(1),\n  }\n}))\n\nconst EnergyPanel = (props) => {\n  const {dataSources, savedDataSourcesCount, versionInfo} = props\n  const classes = useStyles()\n  const [expanded, setExpanded] = React.useState(true)\n  const [effective, setEffective] = React.useState('CURRENT')\n  const [fuelType, setFuelType] = React.useState('GAS')\n  const compare = () => {\n    if( /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n      alert('The screen size is too small! Please use a bigger screen to compare.')\n      return\n    }\n    props.comparePlans(props.selectedPlans)\n    setExpanded(false)\n  }\n\n  React.useEffect(() => {\n    dataSources.forEach((dataSource, dataSourceIndex) => {\n      if (isEnergyDataSource(dataSource)) {\n        props.startRetrievePlanList(dataSourceIndex)\n        const normalisedUrl = normalise(dataSource.energyPrd ? dataSource.energyPrd : dataSource.url)\n        const planListUrl = normalisedUrl + '/energy/plans?effective=' + effective + '&fuelType=' + fuelType\n        props.retrievePlanList(dataSourceIndex, normalisedUrl, planListUrl, versionInfo.xV, versionInfo.xMinV, effective, fuelType)\n      }\n    })\n    return function() {\n      dataSources.forEach((dataSource, dataSourceIndex) => {\n        if (isEnergyDataSource(dataSource)) {\n          props.clearData(dataSourceIndex)\n        }\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [effective, fuelType, versionInfo.xV, versionInfo.xMinV, savedDataSourcesCount])\n\n  const getWidth = (dataSourceCount, min) => {\n    return Math.max(12 / dataSourceCount, min)\n  }\n\n  return (\n    <Accordion defaultExpanded className={classes.panel} expanded={expanded} onChange={(e, newExpanded) => setExpanded(newExpanded)}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <div className={classes.heading}>\n          <SubjectIcon/><Typography style={{paddingLeft: 8}}>Plans</Typography>\n        </div>\n      </AccordionSummary>\n      <Grid container alignItems=\"center\" spacing={2} className={classes.container}>\n        <Grid item>\n          <FormLabel>Effective</FormLabel>\n          <RadioGroup row aria-label=\"effective\" name=\"effective\" value={effective} onChange={e => setEffective(e.target.value)}>\n            <FormControlLabel value=\"CURRENT\" control={<Radio />} label=\"Current\" />\n            <FormControlLabel value=\"FUTURE\" control={<Radio />} label=\"Future\" />\n            <FormControlLabel value=\"ALL\" control={<Radio />} label=\"All\" />\n          </RadioGroup>\n        </Grid>\n        <Grid item>\n          <FormLabel>Fuel type</FormLabel>\n          <RadioGroup row aria-label=\"fuelType\" name=\"fuelType\" value={fuelType} onChange={e => setFuelType(e.target.value)}>\n            <FormControlLabel value=\"ELECTRICITY\" control={<Radio />} label=\"Electricity\" />\n            <FormControlLabel value=\"GAS\" control={<Radio />} label=\"Gas\" />\n            <FormControlLabel value=\"DUAL\" control={<Radio />} label=\"Dual\" />\n            <FormControlLabel value=\"ALL\" control={<Radio />} label=\"All\" />\n          </RadioGroup>\n        </Grid>\n      </Grid>\n      <div className={classes.details}>\n      {\n        savedDataSourcesCount > 0 &&\n        <Grid container alignItems='flex-start' spacing={2} className={classes.container}>\n          {dataSources.map((dataSource, index) => (isEnergyDataSource(dataSource) &&\n            <Grid item key={index}\n                  xs={getWidth(savedDataSourcesCount, 12)}\n                  sm={getWidth(savedDataSourcesCount, 12)}\n                  md={getWidth(savedDataSourcesCount, 6)}\n                  lg={getWidth(savedDataSourcesCount, 4)}\n                  xl={getWidth(savedDataSourcesCount, 3)}\n            >\n              <div className=\"title\">{!!dataSource.icon && <span><img src={dataSource.icon} alt=\"\"/></span>}<h2>{dataSource.name}</h2></div>\n              <EnergyPlanList dataSourceIndex={index} />\n            </Grid>\n          ))}\n        </Grid>\n      }\n      </div>\n      <Divider/>\n      <AccordionActions>\n        <Fab variant='extended' size='medium' color='primary'\n             disabled={props.selectedPlans.length < 2 || props.selectedPlans.length > 4}\n             className={classes.button} onClick={compare}>\n          <CompareIcon className={classes.leftIcon}/>\n          Compare\n        </Fab>\n      </AccordionActions>\n    </Accordion>\n  )\n}\n\nfunction isEnergyDataSource(dataSource) {\n  return !dataSource.unsaved && !dataSource.deleted && dataSource.enabled && (!dataSource.sectors || dataSource.sectors.includes(\"energy\"))\n}\n\nconst mapStateToProps = state=>({\n  dataSources : state.dataSources,\n  savedDataSourcesCount: state.dataSources.filter(dataSource => isEnergyDataSource(dataSource)).length,\n  selectedPlans: state.energySelection,\n  versionInfo: state.versionInfo.vHeaders\n})\n\nconst mapDispatchToProps = {startRetrievePlanList, retrievePlanList, clearData, comparePlans}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EnergyPanel)\n","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionActions from '@material-ui/core/AccordionActions'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport ComputerIcon from '@material-ui/icons/Computer'\nimport Divider from '@material-ui/core/Divider'\nimport Grid from '@material-ui/core/Grid'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Typography from '@material-ui/core/Typography'\nimport Fab from '@material-ui/core/Fab'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { connect } from 'react-redux'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport { makeStyles } from '@material-ui/core/styles'\nimport moment from 'moment'\nimport { refreshConout, cleanConout } from '../../store/conout/actions'\nimport _ from 'lodash';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginLeft: theme.typography.pxToRem(20),\n    marginRight: theme.typography.pxToRem(20)\n  },\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  details: {\n    maxWidth:'95%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxHeight: 300,\n    overflow: 'auto',\n    marginBottom: 20\n  },\n  timestamp: {\n    color: 'grey',\n    paddingRight: 10,\n    fontSize: 'smaller'\n  }\n}))\n\nconst ConsolePanel = (props) => {\n  const classes = useStyles()\n  const [expanded, setExpanded] = React.useState(false)\n  const toggleExpansion = (event, newExpanded) => {\n    setExpanded(newExpanded)\n  }\n\n  return (\n    <Accordion defaultExpanded={false} className={classes.panel} expanded={expanded} onChange={toggleExpansion}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <div className={classes.heading}>\n          <ComputerIcon/><Typography style={{paddingLeft: 8}}>Console Output</Typography>\n        </div>\n      </AccordionSummary>\n      <div className={classes.details}>\n        {props.conout.actions.map((msg, i) =>\n          <div key={i}>\n            <span className={classes.timestamp}>{moment(msg.timestamp).format('L HH:mm:ss.SSS')}</span>\n            <span style={{color: msg.payload.lvl === 'error' ? 'red' : 'black'}}>{msg.payload.txt}</span>\n            {msg.payload.obj && <TreeView data={msg.payload.obj}/>}\n          </div>\n        )}\n      </div>\n      <Divider/>\n      <AccordionActions>\n        <Grid container alignItems=\"center\">\n          <Grid item xs={1}>\n            <Tooltip title='Clean'>\n              <Fab size='medium' color='secondary' onClick={props.cleanConout}>\n                <DeleteIcon/>\n              </Fab>\n            </Tooltip>\n          </Grid>\n          <Grid item xs={11} style={{textAlign: 'end'}}>\n            <Tooltip title='Synchronise'>\n              <Fab size='medium' color='primary' onClick={props.refreshConout}>\n                <RefreshIcon/>\n              </Fab>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </AccordionActions>\n    </Accordion>\n  )\n}\n\nconst TreeView = ({\n  data,\n  toggled = false,\n  name = null,\n  isLast = true,\n  isChildElement = false,\n  isParentToggled = true\n}) => {\n  const [isToggled, setIsToggled] = React.useState(toggled)\n  const isDataArray = data && Array.isArray(data)\n  const plainText = !data || (!isDataArray && (data instanceof Error || typeof data !== 'object'))\n\n  return (\n    <div\n      className={`tree-element${isParentToggled ? '' : ' collapsed'} ${\n        isChildElement || isToggled ? 'child' : 'parent'\n      }`}\n    >\n      {!_.isEmpty(data) && <>\n        <span\n          className={`tree-toggler${isToggled ? ' open' : ''}${plainText ? ' collapsed' : ''}`}\n          onClick={() => setIsToggled(!isToggled)}/>\n        <>&nbsp;&nbsp;</>\n      </>}\n      {name && <strong>{name}: </strong>}\n      {plainText ? (data ? data + '' : (data === null ? 'null' : data)) :\n      <>\n        {isDataArray ? '[' : '{'}\n        {!isToggled && !_.isEmpty(data) && '...'}\n        {Object.keys(data).map((v, i, a) => {\n          return typeof data[v] === 'object' ? (\n            <TreeView\n              key={`${name}-${v}-${i}`}\n              data={data[v]}\n              isLast={i === a.length - 1}\n              name={isDataArray ? null : v}\n              isChildElement\n              isParentToggled={isParentToggled && isToggled}\n            />\n          ) : (\n            <p\n              key={`${name}-${v}-${i}`}\n              className={`tree-element${isToggled ? '' : ' collapsed'}`}\n            >\n              {isDataArray ? '' : <strong>{v}: </strong>}\n              <Print val={data[v]}/>\n              {i === a.length - 1 ? '' : ','}\n            </p>\n          )\n        })}\n        {isDataArray ? ']' : '}'}\n      </>\n      }\n      {!isLast ? ',' : ''}\n    </div>\n  )\n}\n\nconst Print = ({ val }) => {\n  const framing = typeof val === 'string' ? '\"' : ''\n  return framing + val + framing\n}\n\nconst mapStateToProps = state => ({\n  conout: state.conout\n})\n\nconst mapDispatchToProps = {refreshConout, cleanConout}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConsolePanel)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core'\nimport logo from './CDS-logo.png'\nimport Typography from '@material-ui/core/Typography'\n\nconst useStyles = makeStyles(theme => ({\n  header: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  title: {\n    color: '#202020',\n    fontSize: theme.typography.pxToRem(30),\n    fontWeight: 'bold'\n  }\n}))\n\nexport default function Header(props) {\n  const classes = useStyles()\n  return (\n    <div className={classes.header}>\n      <img src={logo} alt='CDS logo'/>\n      <Typography className={classes.title}>{props.title}</Typography>\n    </div>\n  )\n}\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport {connect} from 'react-redux'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport CompareArrowsIcon from '@material-ui/icons/CompareArrows'\nimport Typography from '@material-ui/core/Typography'\nimport {fade} from '@material-ui/core/styles/colorManipulator'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport {productDataKeys} from '../../utils/dict'\nimport {format} from '../../utils/datetime'\nimport AdditionalInfo from '../data/banking/AdditionalInfo'\nimport ecomp from '../../utils/enum-comp'\nimport Bundle from '../data/banking/Bundle'\nimport Constraint from '../data/banking/Constraint'\nimport DepositRate from '../data/banking/DepositRate'\nimport LendingRate from '../data/banking/LendingRate'\nimport Eligibility from '../data/banking/Eligibility'\nimport Feature from '../data/banking/Feature'\nimport Fee from '../data/banking/Fee'\nimport CardArt from '../data/banking/CardArt'\n\nconst useStyles = makeStyles(theme => ({\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  table: {\n    width:'95%',\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  headerContainer: {\n    width: '100%',\n    display: 'table'\n  },\n  dataContainer: {\n    height: 600,\n    width: '100%',\n    overflow: 'auto',\n    display: 'block'\n  },\n  headCell: {\n    color: fade('#000', 0.9),\n    fontWeight: 700,\n    fontSize: '0.8rem'\n  },\n  dataCell: {\n    verticalAlign: 'top'\n  }\n}))\n\nconst render = (product, key) => {\n  switch (key) {\n    case 'description':\n    case 'brand':\n    case 'brandName':\n      return product[key]\n    case 'lastUpdated':\n    case 'effectiveFrom':\n    case 'effectiveTo':\n      return !!product[key] ? format(product[key]) : ''\n    case 'isTailored':\n      return product[key] ? 'Yes' : 'No'\n    case 'applicationUri':\n      return !!product[key] && <a href={product[key]} target='_blank' rel='noopener noreferrer'>Apply here</a>\n    case 'additionalInformation':\n      return !!product[key] && <AdditionalInfo additionalInfo={product[key]} tableCell/>\n    case 'bundles':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n            {product[key].sort((a, b)=>ecomp(a.name, b.name)).map((bundle, index) => <Bundle key={index} bundle={bundle}/>)}\n        </ul>\n    case 'constraints':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].sort((a, b)=>ecomp(a.name, b.name)).map((constraint, index) => <Constraint key={index} constraint={constraint}/>)}\n        </ul>\n    case 'depositRates':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].sort((a, b)=>ecomp(a.name, b.name)).map((depositRate, index) => <DepositRate key={index} depositRate={depositRate}/>)}\n        </ul>\n    case 'lendingRates':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].sort((a, b)=>ecomp(a.name, b.name)).map((lendingRate, index) => <LendingRate key={index} lendingRate={lendingRate}/>)}\n        </ul>\n    case 'eligibility':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].sort((a, b)=>ecomp(a.name, b.name)).map((eligibility, index) =><Eligibility key={index} eligibility={eligibility}/>)}\n        </ul>\n    case 'features':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].sort((a, b)=>ecomp(a.name, b.name)).map((feature, index) => <Feature key={index} feature={feature}/>)}\n        </ul>\n    case 'fees':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].filter(fee => fee).sort((a, b)=>ecomp(a.name, b.name)).map((fee, index) => <Fee key={index} fee={fee}/>)}\n        </ul>\n    case 'cardArt':\n      return !!product[key] && product[key].length > 0 &&\n        <ul style={{margin: 0, padding:0}}>\n          {product[key].map((cardArt, index) => <CardArt key={index} cardArt={cardArt}/>)}\n        </ul>\n    default:\n      return ''\n  }\n}\n\nconst ComparisonPanel = (props) => {\n  const {dataSources, products} = props\n  const classes = useStyles()\n  return (\n    !!products && products.length > 0 &&\n    <Accordion defaultExpanded className={classes.panel}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <div className={classes.heading}>\n          <CompareArrowsIcon/><Typography style={{paddingLeft: 8}}>Product Comparison</Typography>\n        </div>\n      </AccordionSummary>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell width='16%'/>\n            {products.map((productData, index) =>\n              <TableCell key={index} className={classes.headCell} width={`${90/products.length}%`}>\n                {dataSources[productData.dataSourceIdx].name} - {productData.product.name}\n              </TableCell>)}\n          </TableRow>\n        </TableHead>\n      </Table>\n      <Table className={classes.table}>\n        <TableBody className={classes.dataContainer}>\n          {productDataKeys.map(dataKey => (\n            <TableRow key={dataKey.key} className={classes.table}>\n              <TableCell component='th' scope='row' align='right' className={classes.dataCell} width='16%'>\n                {dataKey.label}\n              </TableCell>\n              {products.map((productData, index) =>\n                <TableCell key={index} className={classes.dataCell} width={`${90/products.length}%`}>\n                  {render(productData.product, dataKey.key)}\n                </TableCell>\n              )}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Accordion>\n  )\n}\n\nconst mapStateToProps = state => ({\n  dataSources: state.dataSources,\n  products: state.bankingComparison\n})\n\nexport default connect(mapStateToProps)(ComparisonPanel)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport CompareArrowsIcon from '@material-ui/icons/CompareArrows'\nimport Typography from '@material-ui/core/Typography'\nimport {fade} from '@material-ui/core/styles/colorManipulator'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport {format} from '../../utils/datetime'\nimport AdditionalInfo from '../data/energy/AdditionalInfo'\nimport Type from '../data/energy/Type'\nimport FuelType from '../data/energy/FuelType'\nimport ExternalLink from '../data/energy/ExternalLink'\nimport Geography from '../data/energy/Geography'\nimport CustomerType from '../data/energy/CustomerType'\n\nconst useStyles = makeStyles(theme => ({\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  table: {\n    width:'95%',\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  headerContainer: {\n    width: '100%',\n    display: 'table'\n  },\n  dataContainer: {\n    height: 600,\n    width: '100%',\n    overflow: 'auto',\n    display: 'block'\n  },\n  headCell: {\n    color: fade('#000', 0.9),\n    fontWeight: 700,\n    fontSize: '0.8rem'\n  },\n  dataCell: {\n    verticalAlign: 'top'\n  },\n  ul: {\n    margin: 0,\n    padding:0\n  }\n}))\n\nconst EnergyComparisonPanel = (props) => {\n  const {dataSources, planSelections} = props\n  const classes = useStyles()\n  const planDataKeys = [\n    {key: 'displayName', label: 'Display Name'},\n    {key: 'description', label: 'Description'},\n    {key: 'type', label: 'Type'},\n    {key: 'fuelType', label: 'Fuel Type'},\n    {key: 'brand', label: 'Brand'},\n    {key: 'brandName', label: 'Brand Name'},\n    {key: 'lastUpdated', label: 'Last Updated'},\n    {key: 'effectiveFrom', label: 'Effective From'},\n    {key: 'effectiveTo', label: 'Effective To'},\n    {key: 'applicationUri', label: 'Application Link'},\n    {key: 'additionalInformation', label: 'Additional Information'},\n    {key: 'customerType', label: 'Customer Type'},\n    {key: 'geography', label: 'Geography'},\n  ]\n\n  const render = (plan, key) => {\n    switch (key) {\n      case 'displayName':\n      case 'description':\n      case 'brand':\n      case 'brandName':\n        return plan[key]\n      case 'lastUpdated':\n      case 'effectiveFrom':\n      case 'effectiveTo':\n        return !!plan[key] ? format(plan[key]) : ''\n      case 'type':\n        return <Type type={plan[key]} />\n      case 'fuelType':\n        return <FuelType fuelType={plan[key]} />\n      case 'applicationUri':\n        return !!plan[key] && <ExternalLink link={plan[key]}>Apply here</ExternalLink>\n      case 'additionalInformation':\n        return !!plan[key] && <AdditionalInfo additionalInfo={plan[key]} tableCell/>\n      case 'customerType':\n        return !!plan[key] && <CustomerType customerType={plan[key]} />\n      case 'geography':\n        return !!plan[key] && <ul className={classes.ul}><Geography geography={plan[key]} /></ul>\n      default:\n        return ''\n    }\n  }\n    \n  return (\n    !!planSelections && planSelections.length > 0 &&\n    <Accordion defaultExpanded className={classes.panel}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <div className={classes.heading}>\n          <CompareArrowsIcon/><Typography style={{paddingLeft: 8}}>Energy Comparison</Typography>\n        </div>\n      </AccordionSummary>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell width='16%'/>\n            {planSelections.map((selection, index) =>\n              <TableCell key={index} className={classes.headCell} width={`${90/planSelections.length}%`}>\n                {dataSources[selection.dataSourceIdx].name} - {selection.plan.displayName}\n              </TableCell>)}\n          </TableRow>\n        </TableHead>\n      </Table>\n      <Table className={classes.table}>\n        <TableBody className={classes.dataContainer}>\n          {planDataKeys.map(dataKey => (\n            <TableRow key={dataKey.key} className={classes.table}>\n              <TableCell component='th' scope='row' align='right' className={classes.dataCell} width='16%'>\n                {dataKey.label}\n              </TableCell>\n              {planSelections.map((selection, index) =>\n                <TableCell key={index} className={classes.dataCell} width={`${90/planSelections.length}%`}>\n                  {render(selection.plan, dataKey.key)}\n                </TableCell>\n              )}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Accordion>\n  )\n}\n\nconst mapStateToProps = state => ({\n  dataSources: state.dataSources,\n  planSelections: state.energyComparison\n})\n\nexport default connect(mapStateToProps)(EnergyComparisonPanel)\n","import {conoutInfo, conoutError} from '../conout/actions'\n\nexport const RETRIEVE_STATUS = 'RETRIEVE_STATUS'\nexport const RETRIEVE_OUTAGES = 'RETRIEVE_OUTAGES'\n\nconst headers = {\n  'Accept': 'application/json'\n}\n\nfunction createConoutError(error, url) {\n  return conoutError('Caught ' + error + ' while requesting ' + url + (error.name === 'TypeError' ?\n    ' Possibly caused by the endpoint not supporting Cross-Origin Requests (CORS)' : ''))\n}\n\nexport const retrieveStatus = (dataSourceIdx, url, xV, xMinV) => dispatch => {\n  const fullUrl = url + '/discovery/status'\n  const request = new Request(fullUrl, {\n    headers: new Headers({...headers, 'x-v': xV, 'x-min-v': xMinV})\n  })\n  dispatch(conoutInfo('Requesting retrieveStatus(): ' + fullUrl))\n  dispatch({\n    type: RETRIEVE_STATUS,\n    payload: fetch(request)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n        throw new Error(`Response not OK. Status: ${response.status} (${response.statusText})`)\n      })\n      .then(obj => {\n        dispatch(conoutInfo(`Received response for ${fullUrl}:`, obj))\n        return {idx: dataSourceIdx, response: obj}\n      })\n      .catch(error => {\n        dispatch(createConoutError(error, fullUrl))\n      })\n  })\n}\n\nexport const retrieveOutages = (dataSourceIdx, url, xV, xMinV) => dispatch => {\n  const fullUrl = url + '/discovery/outages'\n  const request = new Request(fullUrl, {\n    headers: new Headers({...headers, 'x-v': xV, 'x-min-v': xMinV})\n  })\n  dispatch(conoutInfo('Requesting retrieveOutages(): ' + fullUrl))\n  dispatch({\n    type: RETRIEVE_OUTAGES,\n    payload: fetch(request)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n        throw new Error(`Response not OK. Status: ${response.status} (${response.statusText})`)\n      })\n      .then(obj => {\n        dispatch(conoutInfo(`Received response for ${fullUrl}:`, obj))\n        return {idx: dataSourceIdx, response: obj}\n      })\n      .catch(error => {\n        dispatch(createConoutError(error, fullUrl))\n      })\n  })\n}\n","import React from 'react'\nimport DateTime from '../DateTime'\nimport Duration from '../Duration'\nimport { connect } from 'react-redux'\nimport { normalise } from '../../../utils/url'\nimport { retrieveStatus, retrieveOutages } from '../../../store/discovery'\nimport { translateDiscoveryStatus } from '../../../utils/dict'\n\nclass StatusOutages extends React.Component {\n\n  componentDidMount() {    \n    const { dataSourceIndex, dataSource, versionInfo } = this.props\n    const url = normalise(dataSource.url)\n    this.props.retrieveStatus(dataSourceIndex, url, versionInfo.xV, versionInfo.xMinV)\n    this.props.retrieveOutages(dataSourceIndex, url, versionInfo.xV, versionInfo.xMinV)\n  }\n\n  render() {\n    let data = this.props.data[this.props.dataSourceIndex]\n    if (!data) {\n      return false\n    }\n    const {statusDetails, outagesDetails} = data\n    return (\n    <>\n      {!!statusDetails &&\n      <>\n        <h4>Status</h4>\n        <div style={{fontSize: '0.8rem'}}>\n          <div>Status: {translateDiscoveryStatus(statusDetails.status)}{!!statusDetails.explanation && <span> - {statusDetails.explanation}</span>}</div>\n          {!!statusDetails.detectionTime && <div>Detection Time: <DateTime rfc3339={statusDetails.detectionTime}/></div>}\n          {!!statusDetails.expectedResolutionTime && <div>Expected Resolution Time: <DateTime rfc3339={statusDetails.expectedResolutionTime}/></div>}\n          {!!statusDetails.updateTime && <div>Update Time: <DateTime rfc3339={statusDetails.updateTime}/></div>}\n        </div>\n      </>\n      }\n\n      {!!outagesDetails && !!outagesDetails.outages && !!outagesDetails.outages.length &&\n      <>\n        <h4>Scheduled Outages</h4>\n        <ul style={{fontSize: '0.8rem'}}>\n        {outagesDetails.outages.map((outage, index) =>\n          <Outage outage={outage} key={index}/>\n        )}\n        </ul>\n      </>\n      }\n    </>\n    )\n  }\n}\n\nconst Outage = props => {\n  const { outage } = props\n  return (\n    <li>\n      <div>Outage Time: <DateTime rfc3339={outage.outageTime}/></div>\n      {!!outage.duration && <div>Planned Duration: <Duration value={outage.duration}/></div>}\n      {!!outage.isPartial && <div>Partial: {outage.isPartial}</div>}\n      <div>&laquo;{outage.explanation}&raquo;</div>\n    </li>\n  )\n}\n\nconst mapStateToProps = state => ({\n  versionInfo: state.versionInfo.vHeaders,\n  data: state.discovery\n})\n\nconst mapDispatchToProps = {\n  retrieveStatus,\n  retrieveOutages\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StatusOutages)","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionActions from '@material-ui/core/AccordionActions'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SubjectIcon from '@material-ui/icons/Subject'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport Divider from '@material-ui/core/Divider'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport Fab from '@material-ui/core/Fab'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport StatusOutages from './StatusOutages'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\nimport { connect } from 'react-redux'\nimport { normalise } from '../../../utils/url'\nimport { retrieveStatus, retrieveOutages } from '../../../store/discovery'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginLeft: theme.typography.pxToRem(20),\n    marginRight: theme.typography.pxToRem(20)\n  },\n  panel: {\n    backgroundColor: fade('#fff', 0.9)\n  },\n  heading: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    fontSize: theme.typography.pxToRem(20),\n  },\n  details: {\n    maxWidth:'95%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: 20\n  }\n}))\n\nconst DiscoveryInfo = (props) => {\n\n  const {dataSources, savedDataSourcesCount} = props\n  const classes = useStyles()\n  const [expanded, setExpanded] = React.useState(true)\n\n  const toggleExpansion = (event, newExpanded) => {\n    setExpanded(newExpanded)\n  }\n\n  const getWidth = (dataSourceCount, min) => {\n    return Math.max(12 / dataSourceCount, min)\n  }\n\n  const refreshStatusOutages = () => {\n    const { versionInfo } = props\n    props.dataSources.forEach((dataSource, index) => {\n      const url = normalise(dataSource.url)\n      if (!dataSource.unsaved && dataSource.enabled && !dataSource.deleted) {\n        props.retrieveStatus(index, url, versionInfo.xV, versionInfo.xMinV)\n        props.retrieveOutages(index, url, versionInfo.xV, versionInfo.xMinV)\n      }\n    })\n  }\n    \n  return (\n    <Accordion defaultExpanded className={classes.panel} expanded={expanded} onChange={toggleExpansion}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon/>}\n        aria-controls='panel1c-content'\n      >\n        <div className={classes.heading}>\n          <SubjectIcon/><Typography style={{paddingLeft: 8}}>Status &amp; Outages</Typography>\n        </div>\n      </AccordionSummary>\n      <div className={classes.details}>\n      {\n        savedDataSourcesCount > 0 &&\n        <Grid container alignItems='flex-start' spacing={2} className={classes.container}>\n          {dataSources.map((dataSource, index) => (\n            !dataSource.unsaved && dataSource.enabled && !dataSource.deleted &&\n            <Grid item key={index}\n                  xs={getWidth(savedDataSourcesCount, 12)}\n                  sm={getWidth(savedDataSourcesCount, 12)}\n                  md={getWidth(savedDataSourcesCount, 6)}\n                  lg={getWidth(savedDataSourcesCount, 4)}\n                  xl={getWidth(savedDataSourcesCount, 3)}\n            >\n              <div className=\"title\">{!!dataSource.icon && <span><img src={dataSource.icon} alt=\"\"/></span>}<h2>{dataSource.name}</h2></div>\n              <StatusOutages dataSource={dataSource} dataSourceIndex={index}/>\n            </Grid>\n          ))}\n        </Grid>\n      }\n      </div>\n\n      <Divider/>\n\n      <AccordionActions>\n        <Tooltip title='Refresh'>\n          <Fab size='medium' color='primary' onClick={refreshStatusOutages}>\n            <RefreshIcon/>\n          </Fab>\n        </Tooltip>\n      </AccordionActions>\n    </Accordion>\n  )\n}\n\nconst mapStateToProps = state=>({\n  dataSources : state.dataSources,\n  savedDataSourcesCount: state.dataSources.filter(dataSource => !dataSource.unsaved && !dataSource.deleted && dataSource.enabled).length,\n  versionInfo: state.versionInfo.vHeaders\n})\n\nconst mapDispatchToProps = {\n  retrieveStatus,\n  retrieveOutages\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DiscoveryInfo)","import React from 'react'\nimport DataSourcePanel from './data-source/DataSourcePanel'\nimport BankingPanel from './data/banking/BankingPanel'\nimport EnergyPanel from './data/energy/EnergyPanel'\nimport ConsolePanel from './data/ConsolePanel'\nimport Header from './header'\nimport { Container } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport BankingComparisonPanel from './comparison/BankingComparisonPanel'\nimport EnergyComparisonPanel from './comparison/EnergyComparisonPanel'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport DiscoveryInfo from './data/discovery/DiscoveryInfo'\n\nconst useStyles = makeStyles(theme => ({\n  hidden: {\n    display: 'none'\n  }\n}))\n  \nfunction Page() {\n  const [value, setValue] = React.useState(0)\n  const classes = useStyles()\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  \n  return (\n    <Container maxWidth={false}>\n      <Header title='Product Comparator (demo)'/>\n      <DataSourcePanel/>\n      <ConsolePanel/>\n      <AppBar position=\"static\" style={{marginTop: 8, marginBottom: 8}}>\n        <Tabs value={value} onChange={handleChange}>\n          <Tab label=\"Banking\" />\n          <Tab label=\"Energy\" />\n          <Tab label=\"Status and Outages\" />\n        </Tabs>\n      </AppBar>\n      <div className={value === 0 ? '' : classes.hidden}>\n        <BankingPanel/>\n        <BankingComparisonPanel/>\n      </div>\n      <div className={value === 1 ? '' : classes.hidden}>\n        <EnergyPanel/>\n        <EnergyComparisonPanel/>\n      </div>\n      <div className={value === 2 ? '' : classes.hidden}>\n        <DiscoveryInfo/>\n      </div>\n    </Container>\n  );\n}\n\nexport default Page;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport promise from 'redux-promise-middleware'\nimport { combineReducers } from 'redux'\nimport conout from './conout/reducer'\nimport dataSources from './data-source/reducer'\nimport versionInfo from './version-info/reducer'\nimport banking from './banking/data/reducer'\nimport energy from './energy/data/reducer'\nimport energySelection from './energy/selection/reducer'\nimport discovery from './discovery/reducer'\nimport bankingSelection from './banking/selection/reducer'\nimport bankingComparison from './banking/comparison/reducer'\nimport energyComparison from './energy/comparison/reducer'\n\nconst rootReducer = combineReducers({\n  conout,\n  dataSources,\n  versionInfo,\n  banking,\n  energy,\n  discovery,\n  bankingSelection,\n  energySelection,\n  bankingComparison,\n  energyComparison\n})\n\nconst middleWares = [thunk, promise]\nexport default createStore(rootReducer, applyMiddleware(...middleWares))\n","import { CONSOLE_OUT, CONSOLE_REFRESH, CONSOLE_CLEAN } from './actions'\n\nexport default function conout(state = {actions: []}, action) {\n  switch (action.type) {\n    case CONSOLE_OUT:\n      const { payload } = action\n      if (typeof payload.obj === 'undefined') {\n        console[payload.lvl](payload.txt)\n      } else {\n        console[payload.lvl](payload.txt, payload.obj)\n      }\n      state.actions.push(action)\n      return state\n    case CONSOLE_REFRESH:\n      return {...state}\n    case CONSOLE_CLEAN:\n      return {actions: []}\n    default:\n      return state\n  }\n}\n","import {\n  START_RETRIEVE_PRODUCT_LIST,\n  RETRIEVE_PRODUCT_LIST,\n  RETRIEVE_PRODUCT_DETAIL,\n  DELETE_DATA,\n  CLEAR_DATA\n} from './actions'\nimport {fulfilled} from '../../../utils/async-actions'\n\nexport default function banking(state = [], action) {\n  switch (action.type) {\n    case START_RETRIEVE_PRODUCT_LIST: {\n      const s = [...state]\n      const {idx} = action.payload\n      const item = s[idx]\n      if (item) {\n        item.progress = action.type\n      } else {\n        s[idx] = {\n          progress: action.type,\n          detailRecords: 0,\n          failedDetailRecords: 0,\n          products: [],\n          productDetails: []\n        }\n      }\n      return s\n    }\n    case fulfilled(RETRIEVE_PRODUCT_LIST): {\n      const s = [...state]\n      const {idx, response} = action.payload\n      const item = s[idx]\n      item.progress = action.type\n      item.totalRecords = response.meta.totalRecords\n      item.products = [...item.products, ...response.data.products]\n      return s\n    }\n    case fulfilled(RETRIEVE_PRODUCT_DETAIL): {\n      const s = [...state]\n      const {idx, response} = action.payload\n      const item = s[idx]\n      if (response) {\n        item.productDetails.push(response.data)\n        item.detailRecords++\n      } else {\n        item.failedDetailRecords++\n      }\n      return s\n    }\n    case DELETE_DATA:\n    case CLEAR_DATA: {\n      const s = [...state]\n      s[action.payload] = null\n      return s\n    }\n    default:\n      return state\n  }\n}\n","import {\n  START_RETRIEVE_PLAN_LIST,\n  RETRIEVE_PLAN_LIST,\n  RETRIEVE_PLAN_DETAIL,\n  CLEAR_DATA\n} from './actions'\nimport {fulfilled} from '../../../utils/async-actions'\n\nexport default function energy(state = [], action) {\n  switch (action.type) {\n    case START_RETRIEVE_PLAN_LIST: {\n      const s = [...state]\n      const {idx} = action.payload\n      const item = s[idx]\n      if (item) {\n        item.progress = action.type\n      } else {\n        s[idx] = {\n          progress: action.type,\n          detailRecords: 0,\n          failedDetailRecords: 0,\n          plans: {}\n        }\n      }\n      return s\n    }\n    case fulfilled(RETRIEVE_PLAN_LIST): {\n      const s = [...state]\n      const {idx, response} = action.payload\n      const item = s[idx]\n      item.progress = action.type\n      item.totalRecords = response.meta.totalRecords\n      response.data.plans.forEach(plan => item.plans[plan.planId] = plan)\n      return s\n    }\n    case fulfilled(RETRIEVE_PLAN_DETAIL): {\n      const s = [...state]\n      const {idx, response} = action.payload\n      const item = s[idx]\n      if (response) {\n        item.plans[response.data.planId] = response.data\n        item.detailRecords++\n      } else {\n        item.failedDetailRecords++\n      }\n      return s\n    }\n    case CLEAR_DATA: {\n      const s = [...state]\n      s[action.payload] = null\n      return s\n    }\n    default:\n      return state\n  }\n}\n","import {\n  RETRIEVE_STATUS,\n  RETRIEVE_OUTAGES\n} from './actions'\nimport {fulfilled} from '../../utils/async-actions'\n\nexport default function discovery(state = [], action) {\n  switch (action.type) {\n    case fulfilled(RETRIEVE_STATUS): {\n      const s = [...state]\n      if (action.payload) {\n        const {idx, response} = action.payload\n        if (!s[idx]) {\n          s[idx] = {}\n        }\n        s[idx].statusDetails = response ? response.data : null\n      }\n      return s\n    }\n    case fulfilled(RETRIEVE_OUTAGES): {\n      const s = [...state]\n      if (action.payload) {\n        const {idx, response} = action.payload\n        if (!s[idx]) {\n          s[idx] = {}\n        }\n        s[idx].outagesDetails = response ? response.data : null\n      }\n      return s\n    }\n    default:\n      return state\n  }\n}\n","import {SELECT_BANKING_PRODUCT, DESELECT_BANKING_PRODUCT, CLEAR_BANKING_SELECTION} from './actions'\n\nexport default function bankingSelection(state = [], action) {\n    switch (action.type) {\n        case SELECT_BANKING_PRODUCT:\n            return [...state, action.payload]\n        case DESELECT_BANKING_PRODUCT:\n            const { payload } = action\n            return state.filter(prd => (prd.dataSourceIdx !== payload.dataSourceIdx || prd.product.productId !== payload.product.productId))\n        case CLEAR_BANKING_SELECTION:\n            return state.filter(prd => (prd.dataSourceIdx !== action.payload))\n        default:\n            return state\n    }\n}\n","import {SELECT_ENERGY_PLAN, DESELECT_ENERGY_PLAN, CLEAR_ENERGY_SELECTION} from './actions'\n\nexport default function energySelection(state = [], action) {\n    switch (action.type) {\n        case SELECT_ENERGY_PLAN:\n            return [...state, action.payload]\n        case DESELECT_ENERGY_PLAN:\n            const { payload } = action\n            return state.filter(selection => (selection.dataSourceIdx !== payload.dataSourceIdx || selection.plan.planId !== payload.plan.planId))\n        case CLEAR_ENERGY_SELECTION:\n            return state.filter(selection => (selection.dataSourceIdx !== action.payload))\n        default:\n            return state\n    }\n}\n","import { COMPARE_PRODUCTS } from './actions'\n\nexport default function bankingComparison(state=[], action) {\n  if (action.type === COMPARE_PRODUCTS) {\n    return [...action.payload]\n  } else {\n    return state\n  }\n}\n","import { COMPARE_ENERGY_PLANS } from './actions'\n\nexport default function energyComparison(state=[], action) {\n  if (action.type === COMPARE_ENERGY_PLANS) {\n    return [...action.payload]\n  } else {\n    return state\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport Page from './components/Page'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider as StoreProvider } from 'react-redux'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport blue from '@material-ui/core/colors/blue'\nimport store from './store'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue\n  },\n  typography: {\n    useNextVariants: true,\n  },\n})\n\nconst App = () => {\n  return <StoreProvider store={store}>\n    <MuiThemeProvider theme={theme}>\n      <Page />\n    </MuiThemeProvider>\n  </StoreProvider>\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}